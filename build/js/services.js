!function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=9)}([function(e,t,i){"use strict";function r(e,t,i,r,s,n,o,c){var a,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),r&&(u.functional=!0),n&&(u._scopeId="data-v-"+n),o?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=a):s&&(a=c?function(){s.call(this,this.$root.$options.shadowRoot)}:s),a)if(u.functional){u._injectStyles=a;var h=u.render;u.render=function(e,t){return a.call(t),h(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,a):[a]}return{exports:e,options:u}}i.d(t,"a",function(){return r})},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return n});class r{constructor(e,t){this.copyData(e||{}),this.copyRelations(t||{}),this.$entity=n;let i=this;return this.$fetches={},new Proxy(this,{set:(e,t,i,r)=>e.__set(t,i),get:(e,t)=>e.__get(t),apply:(e,t)=>i.__apply(t,e),ownKeys:()=>i.ownKeys()})}copyData(e){$.each(e,function(e,t){this[e]=t}.bind(this))}copyRelations(e){$.each(e,function(e,t){this[e]=t}.bind(this))}__set(e,t){return 0===e.indexOf("$")?(this[e]=t,!0):(this.$data[e]=t,this)}__get(e){return"string"!=typeof e||0===e.indexOf("_")||0===e.indexOf("$")?this[e]:this.hasOwnProperty("get"+utils.ucfirst(e)+"Attribute")?this["get"+utils.ucfirst(e)+"Attribute"]():this["get"+utils.ucfirst(e)+"Relation"]?this["get"+utils.ucfirst(e)+"Relation"]():(this.hasOwnProperty(e),this[e])}__apply(e,t){return t(...e)}ownKeys(){let e=this.$definition,t=[Object.keys(this),e?e().relations:[]],i={};return $.each(t,function(e,t){$.each(t,function(e,t){i[t]=t})}),i=Object.keys(i)}$autoFetch(e,t){let i=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e[1]:e;return this[r]||(this[r]=[]),this.id?(this.$fetcher(r,function(){let e=new t;return(new this.$entity).all([this.id,i]).then(function(t){this[r]=t.map(function(t){return new e.$record(t)}.bind(this))}.bind(this))}.bind(this)),this[r]):this[r]}$fetcher(e,t){this.$fetches[e]||(this.$fetches[e]=t().finally(function(){}.bind(this)))}toJSON(){let e={};$.each(Object.keys(this),function(t,i){0!==i.indexOf("$")&&0!==i.indexOf("_")&&(e[i]=this[i])}.bind(this));let t=this.$definition;t&&$.each(t().relations,function(t,i){e[i]=this[i]}.bind(this));let i=[],r=JSON.stringify(e,function(e,t){if("object"==typeof t&&null!==t){if(-1!==i.indexOf(t))try{return JSON.parse(JSON.stringify(t))}catch(e){return null}i.push(t)}return t});return i=null,r}data(e,t){return void 0===t&&(t=null),this[e]||t}relation(e,t){return void 0===t&&(t=[]),this[e]||t}getEntity(){return new this.$entity}save(){return this.$data.id?this.update():this.insert()}update(){let e=this.getEntity(),t=e.getRepository(),i=this.$data;if(!i.id)return;let r=e.getApiPath();return r?(r+="/"+i.id,t.post(r,this.$data)):void 0}insert(){}delete(){}static get(){}get(){return this.$data}}class s{constructor(){this.$binds=[],this.$children=[],this.$fields={},this.$limit=null,this.$page=1,this.$direction=null,this.$sort=null,this.$search=null,this.$meta={}}select(e){return this.$fields=e,this}search(e){return this.$search=e,this}getSearch(){return this.$search}addSelect(e){if("string"==typeof e){let t={};t[e]=e,e=t}return this.$fields=Object.assign(this.$fields,e),this}getFields(){return this.$fields}where(e,t=!0,i="="){return this.$children.push({k:e,v:t,c:i}),this}limit(e){return this.$limit=e,this}getLimit(){return this.$limit}page(e){return this.$page=e,this}getPage(){return this.$page}sort(e){return this.$sort=e,this}getSort(){return this.$sort}direction(e){return this.$direction=e,this}getDirection(){return this.$direction}getFilters(){return this.$children}setMeta(e){return this.$meta=e,this}getMeta(){return this.$meta}}class n{constructor(e){this.$path=null,this.$record=r,this.$repository=o,this.$repositoryObject=e||null,this.$query=s}setPath(e){return this.$path=e,this}getQuery(){return"object"!=typeof this.$query&&(this.$query=new s),this.$query}where(e,t,i){return this.getQuery().where(e,t,i),this}limit(e){return this.getQuery().limit(e),this}page(e){return this.getQuery().page(e),this}getRepository(e){return this.$repositoryObject&&!e||(this.$repositoryObject=new this.$repository),this.$repositoryObject}getApiPath(e){let t=this.$path;if(!t&&!e)return null;let i=t?"/"+t:"";if("string"==typeof e)0===e.indexOf("/")?i=e:i+="/"+e;else if("number"==typeof e)i+="/"+e;else if(Array.isArray(e)&&e.length>0)i+="/"+e.join("/");else if(!e){let e=this.$query;if("object"==typeof e&&1==e.$children.length){let t=e.$children[0];"id"==t.key&&"="===t.comparator&&(i+="/"+t.value)}}return i}one(e){let t=this.getApiPath(e);return this.getRepository().one(t).then(function(e){let t=Object.keys(e);return new this.$record(1==t.length?e[t[0]]:{})}.bind(this))}all(e,t){let i=this.getApiPath(e);return this.getRepository().all(i,this.getQuery()).then(function(e){let i=Object.keys(e),r=this.$record,s=i[0];i.length>1&&i.indexOf("records")>=0&&(s="records");let n=e[s].map(function(e){return new r(e)}.bind(this));return t&&t(e),n}.bind(this))}get(e,t){let i=this.getApiPath(e);if(i)return this.getRepository().get(i,t).then(function(e){let t=Object.keys(e);return(1==t.length?e[t[0]]:[]).map(function(e,t){return new this.$record(e)}.bind(this))}.bind(this))}post(e,t){let i=this.getApiPath(e);if(i)return this.getRepository().post(i,t).then(function(e){let t=Object.keys(e);return(1==t.length?e[t[0]]:[]).map(function(e,t){return new this.$record(e)}.bind(this))}.bind(this))}}class o{constructor(e){console.log("Repository repository",e),this.$repository=c,this.$repositoryObject=e||null}getRepository(e){return this.$repositoryObject&&!e||(this.$repositoryObject=new this.$repository),this.$repositoryObject}one(e){return this.getRepository().one(e)}all(e,t){return this.getRepository().all(e,t)}get(e){return this.getRepository().get(e)}post(e,t){return this.getRepository().post(e,t)}}class c{constructor(e="/api"){this.$endpoint=e}setEndpoint(e){return this.$endpoint=e,this}getQueryHeaders(e){return{"X-Pckg-Orm-Meta":JSON.stringify(e?e.getMeta():null),"X-Pckg-Orm-Search":JSON.stringify(e?e.getSearch():null),"X-Pckg-Orm-Filters":JSON.stringify(e?e.getFilters():[]),"X-Pckg-Orm-Fields":JSON.stringify(e?e.getFields():[]),"X-Pckg-Orm-Paginator":JSON.stringify(e?{page:e.getPage(),limit:e.getLimit(),sort:e.getSort(),dir:e.getDirection()}:{page:1,limit:null,sort:null,dir:null})}}makeGetRequest(e,t){return new Promise(function(i,r){http.get((this.$endpoint||"")+e,function(e){i(e)},function(e){r({message:"Error making HTTP GET request",data:e})},{headers:this.getQueryHeaders(t)})}.bind(this))}get(e){return this.makeGetRequest(e)}one(e){return this.makeGetRequest(e)}all(e,t){return this.makeGetRequest(e,t)}post(e,t){return new Promise(function(i,r){http.post((this.$endpoint||"")+e,t,function(e){i({id:3,title:"Three"})}.bind(this),function(e){r(e)})}.bind(this))}}},function(e,t,i){"use strict";i.d(t,"c",function(){return s}),i.d(t,"d",function(){return n}),i.d(t,"a",function(){return d}),i.d(t,"b",function(){return f});var r=i(1);class s extends r.b{constructor(e){super(e),this.$entity=n}isInstalledOnServer(e){return console.log("isInstalledOnServer",this,e),e.services.filter(function(e){return e.id==this.id||e.service==this.service}.bind(this)).length>0}getInstallOnServerUrl(e){return utils.url("@api.services.install",{server:e.id,service:this.id})}saveServerSettings(e){let t=e.settings2[this.service];this.getEntity().post([this.id||this.service,"server",e.id,"settings"],{settings:t})}configure(){$dispatcher.$emit("impero-service-"+this.service+"-configure:open")}}class n extends r.a{constructor(){super(),this.$path="services",this.$record=s}}class o extends r.b{constructor(e){super(e),this.$entity=c}}class c extends r.a{constructor(){super(),this.$path="dependencies",this.$record=o}}class a extends r.b{constructor(e){super(e),this.$entity=u}}class u extends r.a{constructor(){super(),this.$path="websites",this.$record=a}}class h extends r.b{constructor(e){super(e),this.$entity=l}}class l extends r.a{constructor(){super(),this.$record=h}}class p extends r.b{constructor(e){super(e),this.$entity=v}}class v extends r.a{constructor(){super(),this.$record=p}}class d extends r.b{constructor(e){super(e),this.$entity=f}$definition(){return{data:function(){return{baz:null}},relations:["services","dependencies","websites","networkInterfaces","firewallSettings"],methods:{bar:function(){}},getters:{foo:function(){}},setters:{sth:function(){}}}}getServicesRelation(){return this.$autoFetch("services",n)}getDependenciesRelation(){return this.$autoFetch("dependencies",c)}getWebsitesRelation(){return this.$autoFetch("websites",u)}getNetworkInterfacesRelation(){return this.$autoFetch(["network-interfaces","networkInterfaces"],l)}getFirewallSettingsRelation(){return this.$autoFetch(["firewall-settings","firewallSettings"],v)}}class f extends r.a{constructor(){super(),this.$path="servers",this.$record=d}}},,,,,,,function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Install SSH")]),e._v(" "),i("p",[e._v("SSH service should already be installed on your system, otherwise we cannot instantiate connection.")]),e._v(" "),i("h3",[e._v("SSH Configuration")]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("SSH port")]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings[e.myService.service].sshPort,expression:"settings[myService.service].sshPort"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.settings[e.myService.service].sshPort},on:{input:function(t){t.target.composing||e.$set(e.settings[e.myService.service],"sshPort",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.myService.saveServerSettings(e.myServer)}}},[e._v("Save")])])])])};r._withStripped=!0;var s=i(2),n={name:"impero-service-install-ssh",props:{server:{},service:{}},data:function(){return{myServer:typeof this.server!==s.a?new s.a(this.server):this.server,myService:typeof this.service!==s.c?new s.c(this.service):this.service}},computed:{settings:function(){return this.myServer.settings2}}},o=i(0),c=Object(o.a)(n,r,[],!1,null,null,null);c.options.__file="app/impero/src/Impero/Services/Service/Ssh/View/vue/install.vue";var a=c.exports,u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Configure SSH")]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("SSH port")]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings[e.myService.service].sshPort,expression:"settings[myService.service].sshPort"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.settings[e.myService.service].sshPort},on:{input:function(t){t.target.composing||e.$set(e.settings[e.myService.service],"sshPort",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("Permit login")]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings[e.myService.service].permitRootLogin,expression:"settings[myService.service].permitRootLogin"}],attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.settings[e.myService.service].permitRootLogin)?e._i(e.settings[e.myService.service].permitRootLogin,"1")>-1:e.settings[e.myService.service].permitRootLogin},on:{change:function(t){var i=e.settings[e.myService.service].permitRootLogin,r=t.target,s=!!r.checked;if(Array.isArray(i)){var n=e._i(i,"1");r.checked?n<0&&e.$set(e.settings[e.myService.service],"permitRootLogin",i.concat(["1"])):n>-1&&e.$set(e.settings[e.myService.service],"permitRootLogin",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.settings[e.myService.service],"permitRootLogin",s)}}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("Login grace time")]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings[e.myService.service].loginGraceTime,expression:"settings[myService.service].loginGraceTime"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.settings[e.myService.service].loginGraceTime},on:{input:function(t){t.target.composing||e.$set(e.settings[e.myService.service],"loginGraceTime",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",[e._v("Password authentication")]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings[e.myService.service].passwordAuthentication,expression:"settings[myService.service].passwordAuthentication"}],attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.settings[e.myService.service].passwordAuthentication)?e._i(e.settings[e.myService.service].passwordAuthentication,"1")>-1:e.settings[e.myService.service].passwordAuthentication},on:{change:function(t){var i=e.settings[e.myService.service].passwordAuthentication,r=t.target,s=!!r.checked;if(Array.isArray(i)){var n=e._i(i,"1");r.checked?n<0&&e.$set(e.settings[e.myService.service],"passwordAuthentication",i.concat(["1"])):n>-1&&e.$set(e.settings[e.myService.service],"passwordAuthentication",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.settings[e.myService.service],"passwordAuthentication",s)}}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.myService.saveServerSettings(e.myServer)}}},[e._v("Save")])])])])};u._withStripped=!0;var h={name:"impero-service-configure-ssh",props:{server:{},service:{}},data:function(){return{myServer:"object"!=typeof this.server?new s.a(this.server):this.server,myService:"object"!=typeof this.service?new s.c(this.service):this.service}},computed:{settings:function(){return this.myServer.settings2}}},l=Object(o.a)(h,u,[],!1,null,null,null);l.options.__file="app/impero/src/Impero/Services/Service/Ssh/View/vue/configure.vue";var p=l.exports;Vue.component("impero-service-install-ssh",a),Vue.component("impero-service-configure-ssh",p);var v=function(){var e=this.$createElement;this._self._c;return this._m(0)};v._withStripped=!0;var d={name:"impero-service-install-software-properties-common",props:{server:{},service:{}},data:function(){return{myServer:typeof this.server!==s.a?new s.a(this.server):this.server,myService:typeof this.service!==s.c?new s.c(this.service):this.service}},computed:{settings:function(){return this.myServer.settings2}}},f=Object(o.a)(d,v,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v("Install Software Properties Common")])])}],!1,null,null,null);f.options.__file="app/impero/src/Impero/Services/Service/SoftwareProperties/View/vue/install.vue";var g=f.exports,m=function(){var e=this.$createElement;this._self._c;return this._m(0)};m._withStripped=!0;var y={name:"impero-service-configure-software-properties-common",props:{server:{},service:{}},data:function(){return{myServer:"object"!=typeof this.server?new s.a(this.server):this.server,myService:"object"!=typeof this.service?new s.c(this.service):this.service}},computed:{settings:function(){return this.myServer.settings2}}},$=Object(o.a)(y,m,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v("Configure Software Properties Common")])])}],!1,null,null,null);$.options.__file="app/impero/src/Impero/Services/Service/SoftwareProperties/View/vue/configure.vue";var S=$.exports;Vue.component("impero-service-install-software-properties-common",g),Vue.component("impero-service-configure-software-properties-common",S)}]);