!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){"use strict";function s(t,e,i,s,n,r,a,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}i.d(e,"a",function(){return s})},function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return r});class s{constructor(t,e){this.copyData(t||{}),this.copyRelations(e||{}),this.$entity=r;let i=this;return this.$fetches={},new Proxy(this,{set:(t,e,i,s)=>t.__set(e,i),get:(t,e)=>t.__get(e),apply:(t,e)=>i.__apply(e,t),ownKeys:()=>i.ownKeys()})}copyData(t){$.each(t,function(t,e){this[t]=e}.bind(this))}copyRelations(t){$.each(t,function(t,e){this[t]=e}.bind(this))}__set(t,e){return 0===t.indexOf("$")?(this[t]=e,!0):(this.$data[t]=e,this)}__get(t){return"string"!=typeof t||0===t.indexOf("_")||0===t.indexOf("$")?this[t]:this.hasOwnProperty("get"+utils.ucfirst(t)+"Attribute")?this["get"+utils.ucfirst(t)+"Attribute"]():this["get"+utils.ucfirst(t)+"Relation"]?this["get"+utils.ucfirst(t)+"Relation"]():(this.hasOwnProperty(t),this[t])}__apply(t,e){return e(...t)}ownKeys(){let t=this.$definition,e=[Object.keys(this),t?t().relations:[]],i={};return $.each(e,function(t,e){$.each(e,function(t,e){i[e]=e})}),i=Object.keys(i)}$autoFetch(t,e){let i=Array.isArray(t)?t[0]:t,s=Array.isArray(t)?t[1]:t;return this[s]||(this[s]=[]),this.id?(this.$fetcher(s,function(){let t=new e;return(new this.$entity).all([this.id,i]).then(function(e){this[s]=e.map(function(e){return new t.$record(e)}.bind(this))}.bind(this))}.bind(this)),this[s]):this[s]}$fetcher(t,e){this.$fetches[t]||(this.$fetches[t]=e().finally(function(){}.bind(this)))}toJSON(){let t={};$.each(Object.keys(this),function(e,i){0!==i.indexOf("$")&&0!==i.indexOf("_")&&(t[i]=this[i])}.bind(this));let e=this.$definition;e&&$.each(e().relations,function(e,i){t[i]=this[i]}.bind(this));let i=[],s=JSON.stringify(t,function(t,e){if("object"==typeof e&&null!==e){if(-1!==i.indexOf(e))try{return JSON.parse(JSON.stringify(e))}catch(t){return null}i.push(e)}return e});return i=null,s}data(t,e){return void 0===e&&(e=null),this[t]||e}relation(t,e){return void 0===e&&(e=[]),this[t]||e}getEntity(){return new this.$entity}save(){return this.$data.id?this.update():this.insert()}update(){let t=this.getEntity(),e=t.getRepository(),i=this.$data;if(!i.id)return;let s=t.getApiPath();return s?(s+="/"+i.id,e.post(s,this.$data)):void 0}insert(){}delete(){}static get(){}get(){return this.$data}}class n{constructor(){this.$binds=[],this.$children=[],this.$fields={},this.$limit=null,this.$page=1,this.$direction=null,this.$sort=null,this.$search=null,this.$meta={}}select(t){return this.$fields=t,this}search(t){return this.$search=t,this}getSearch(){return this.$search}addSelect(t){if("string"==typeof t){let e={};e[t]=t,t=e}return this.$fields=Object.assign(this.$fields,t),this}getFields(){return this.$fields}where(t,e=!0,i="="){return this.$children.push({k:t,v:e,c:i}),this}limit(t){return this.$limit=t,this}getLimit(){return this.$limit}page(t){return this.$page=t,this}getPage(){return this.$page}sort(t){return this.$sort=t,this}getSort(){return this.$sort}direction(t){return this.$direction=t,this}getDirection(){return this.$direction}getFilters(){return this.$children}setMeta(t){return this.$meta=t,this}getMeta(){return this.$meta}}class r{constructor(t){this.$path=null,this.$record=s,this.$repository=a,this.$repositoryObject=t||null,this.$query=n}setPath(t){return this.$path=t,this}getQuery(){return"object"!=typeof this.$query&&(this.$query=new n),this.$query}where(t,e,i){return this.getQuery().where(t,e,i),this}limit(t){return this.getQuery().limit(t),this}page(t){return this.getQuery().page(t),this}getRepository(t){return this.$repositoryObject&&!t||(this.$repositoryObject=new this.$repository),this.$repositoryObject}getApiPath(t){let e=this.$path;if(!e&&!t)return null;let i=e?"/"+e:"";if("string"==typeof t)0===t.indexOf("/")?i=t:i+="/"+t;else if("number"==typeof t)i+="/"+t;else if(Array.isArray(t)&&t.length>0)i+="/"+t.join("/");else if(!t){let t=this.$query;if("object"==typeof t&&1==t.$children.length){let e=t.$children[0];"id"==e.key&&"="===e.comparator&&(i+="/"+e.value)}}return i}one(t){let e=this.getApiPath(t);return this.getRepository().one(e).then(function(t){let e=Object.keys(t);return new this.$record(1==e.length?t[e[0]]:{})}.bind(this))}exp(t,e){let i=this.getApiPath(t);return this.getRepository().exp(i,this.getQuery()).then(function(t){return e&&e(t),t}.bind(this))}all(t,e){let i=this.getApiPath(t);return this.getRepository().all(i,this.getQuery()).then(function(t){let i=Object.keys(t),s=this.$record,n=i[0];i.length>1&&i.indexOf("records")>=0&&(n="records");let r=t[n].map(function(t){return new s(t)}.bind(this));return e&&e(t),r}.bind(this))}get(t,e){let i=this.getApiPath(t);if(i)return this.getRepository().get(i,e).then(function(t){let e=Object.keys(t);return(1==e.length?t[e[0]]:[]).map(function(t,e){return new this.$record(t)}.bind(this))}.bind(this))}post(t,e){let i=this.getApiPath(t);if(i)return this.getRepository().post(i,e).then(function(t){let e=Object.keys(t);return(1==e.length?t[e[0]]:[]).map(function(t,e){return new this.$record(t)}.bind(this))}.bind(this))}}class a{constructor(t){console.log("Repository repository",t),this.$repository=o,this.$repositoryObject=t||null}getRepository(t){return this.$repositoryObject&&!t||(this.$repositoryObject=new this.$repository),this.$repositoryObject}one(t){return this.getRepository().one(t)}all(t,e){return this.getRepository().all(t,e)}get(t){return this.getRepository().get(t)}post(t,e){return this.getRepository().post(t,e)}exp(t,e){return this.getRepository().exp(t,e)}}class o{constructor(t="/api"){this.$endpoint=t}setEndpoint(t){return this.$endpoint=t,this}getQueryHeaders(t){return{"X-Pckg-Orm-Meta":JSON.stringify(t?t.getMeta():null),"X-Pckg-Orm-Search":JSON.stringify(t?t.getSearch():null),"X-Pckg-Orm-Filters":JSON.stringify(t?t.getFilters():[]),"X-Pckg-Orm-Fields":JSON.stringify(t?t.getFields():[]),"X-Pckg-Orm-Paginator":JSON.stringify(t?{page:t.getPage(),limit:t.getLimit(),sort:t.getSort(),dir:t.getDirection()}:{page:1,limit:null,sort:null,dir:null})}}makeGetRequest(t,e){return new Promise(function(i,s){http.get((this.$endpoint||"")+t,function(t){i(t)},function(t){s({message:"Error making HTTP GET request",data:t})},{headers:this.getQueryHeaders(e)})}.bind(this))}get(t){return this.makeGetRequest(t)}one(t){return this.makeGetRequest(t)}all(t,e){return this.makeGetRequest(t,e)}exp(t,e){return this.makeGetRequest(t,e)}post(t,e){return new Promise(function(i,s){http.post((this.$endpoint||"")+t,e,function(t){i({id:3,title:"Three"})}.bind(this),function(t){s(t)})}.bind(this))}}},function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"a",function(){return v}),i.d(e,"b",function(){return f});var s=i(1);class n extends s.b{constructor(t){super(t),this.$entity=r}isInstalledOnServer(t){return console.log("isInstalledOnServer",this,t),t.services.filter(function(t){return t.id==this.id||t.service==this.service}.bind(this)).length>0}getInstallOnServerUrl(t){return utils.url("@api.services.install",{server:t.id,service:this.id})}saveServerSettings(t){let e=t.settings2[this.service];this.getEntity().post([this.id||this.service,"server",t.id,"settings"],{settings:e})}configure(){$dispatcher.$emit("impero-service-"+this.service+"-configure:open")}}class r extends s.a{constructor(){super(),this.$path="services",this.$record=n}}class a extends s.b{constructor(t){super(t),this.$entity=o}}class o extends s.a{constructor(){super(),this.$path="dependencies",this.$record=a}}class l extends s.b{constructor(t){super(t),this.$entity=c}}class c extends s.a{constructor(){super(),this.$path="websites",this.$record=l}}class u extends s.b{constructor(t){super(t),this.$entity=d}}class d extends s.a{constructor(){super(),this.$record=u}}class p extends s.b{constructor(t){super(t),this.$entity=h}}class h extends s.a{constructor(){super(),this.$record=p}}class v extends s.b{constructor(t){super(t),this.$entity=f}$definition(){return{data:function(){return{baz:null}},relations:["services","dependencies","websites","networkInterfaces","firewallSettings"],methods:{bar:function(){}},getters:{foo:function(){}},setters:{sth:function(){}}}}getServicesRelation(){return this.$autoFetch("services",r)}getDependenciesRelation(){return this.$autoFetch("dependencies",o)}getWebsitesRelation(){return this.$autoFetch("websites",c)}getNetworkInterfacesRelation(){return this.$autoFetch(["network-interfaces","networkInterfaces"],d)}getFirewallSettingsRelation(){return this.$autoFetch(["firewall-settings","firewallSettings"],h)}}class f extends s.a{constructor(){super(),this.$path="servers",this.$record=v}}},function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pckg-dispatcher-notifications-wrapper"},t._l(t.notifications,function(e){return i("div",{staticClass:"alert alert-dismissible alert-fixxed",class:"alert-"+e.type,attrs:{role:"alert"}},[i("div",{staticClass:"col"},[i("i",{staticClass:"fas fa-fw",class:t.iconClass(e)})]),t._v(" "),i("div",{staticClass:"col",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),i("div",{staticClass:"col"},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"},on:{click:function(i){return t.removeNotification(e)}}},[t._v("×")])])])])}),0)};s._withStripped=!0;var n={name:"pckg-dispatcher-notifications",mixins:[pckgTimeout],data:function(){return{notifications:[]}},methods:{removeNotification:function(t){utils.splice(this.notifications,t)},iconClass:function(t){return"danger"==t.type?"fa-exclamation":"success"==t.type?"fa-check":"fa-info"}},created:function(){$dispatcher.$on("notification:success",function(t){var e={content:t,type:"success"};this.notifications.push(e),this.timeout("autoclose",function(){this.removeNotification(e)}.bind(this),5e3,e)}.bind(this)),$dispatcher.$on("notification:error",function(t){var e={content:t,type:"danger"};this.notifications.push(e),this.timeout("autoclose",function(){this.removeNotification(e)}.bind(this),1e4,e)}.bind(this)),$dispatcher.$on("notification:info",function(t){var e={content:t,type:"info"};this.notifications.push(e),this.timeout("autoclose",function(){this.removeNotification(e)}.bind(this),1e4,e)}.bind(this))}},r=i(0),a=Object(r.a)(n,s,[],!1,null,null,null);a.options.__file="vendor/pckg/generic/src/Pckg/Generic/View/dispatcherNotifications.vue";e.a=a.exports},function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",class:t.visible?"in display-block":"",attrs:{tabindex:"-1",role:"dialog",id:t.id}},[i("div",{staticClass:"modal-dialog",class:[t.size?"modal-"+t.size:""]},[i("div",{staticClass:"modal-content"},[t.$slots.header||t.$slots.headerOut?i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.closeModal}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),t.$slots.header?i("h4",{staticClass:"modal-title"},[t._t("header")],2):t._e(),t._v(" "),t.$slots.headerOut?t._t("headerOut"):t._e()],2):t._e(),t._v(" "),t.$slots.body?i("div",{staticClass:"modal-body"},[t._t("body")],2):t._e(),t._v(" "),t.$slots.footer?i("div",{staticClass:"modal-footer"},[t._t("footer"),t._v(" "),t.dismissable?i("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.closeModal}},[t._v("Close\n                ")]):t._e()],2):t._e()])])])};s._withStripped=!0;var n={name:"pckg-bootstrap-modal",props:{dismissable:{type:Boolean,default:!0},id:null,visible:{default:!1},size:null},data:function(){return{_modal:null}},watch:{visible:function(t){console.log("visible changed",$(this.$el)),this.$nextTick(function(){this.handleModal()}.bind(this))}},methods:{handleModal:function(){console.log("handleModal",this.visible,$(this.$el)),this.$nextTick(function(){console.log("handleModal next tick",this.visible,$(this.$el)),$(this.$el).modal(this.visible?"show":"hide"),$(window).resize()}.bind(this))},closeModal:function(){console.log("closing modal, emiting"),this.$emit("close")},modalOpened:function(){console.log("modal opened, resizing window"),$(window).resize()},modalOpening:function(){console.log("modal opening, resizing window"),$(window).resize()}},mounted:function(){$(this.$el).on("hidden.bs.modal",this.closeModal),$(this.$el).on("shown.bs.modal",this.modalOpened),$(this.$el).on("show.bs.modal",this.modalOpening),this.visible&&this.$nextTick(function(){setTimeout(function(){this.handleModal()}.bind(this),100)}.bind(this))}},r=i(0),a=Object(r.a)(n,s,[],!1,null,null,null);a.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-bootstrap-modal.vue";e.a=a.exports},function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fade in alert","alert-"+t.style,t.dismissable?"alert-dismissable":""],attrs:{role:"alert"}},[t.dismissable?i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e(),t._v("\n    "+t._s(t.text)+"\n")])};s._withStripped=!0;var n={name:"pckg-bootstrap-alert",props:{style:{type:String,default:"success"},text:{type:String,default:""},dismissable:{type:Boolean,default:!0}},data:function(){return{}},methods:{}},r=i(0),a=Object(r.a)(n,s,[],!1,null,null,null);a.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-bootstrap-alert.vue";e.a=a.exports},,function(t,e,i){"use strict";i.r(e);var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"pckg-ping"})};s._withStripped=!0;var n={name:"pckg-ping",mixins:[pckgInterval],data:function(){return{lastActivity:moment().unix(),lastPing:moment().unix(),diff:300}},created:function(){$("body").on("mousemove",this.updateLastActivity),this.interval("someInterval",this.performLoginCheck,1e3*this.diff)},methods:{updateLastActivity:function(){this.lastActivity=moment().unix(),this.lastActivity-this.lastPing>this.diff&&this.performLoginCheck()},performLoginCheck:function(){this.lastPing=moment().unix(),http.get(utils.url("@api.auth.user"),function(t){t.loggedIn||(confirm("Your session expired, please login in another window"),this.performLoginCheck())}.bind(this))}}},r=i(0),a=Object(r.a)(n,s,[],!1,null,null,null);a.options.__file="vendor/pckg/generic/src/Pckg/Generic/View/pckgPing.vue";var o=a.exports,l=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vue-component-gmaps",attrs:{id:this.id}})};l._withStripped=!0;var c={props:{center:{type:String},locations:{type:Array,default:function(){return[]}},selector:{type:String,default:""},id:{type:String,default:""},theme:{type:String,default:"default"},afterDrag:{type:Function,default:function(){console.log("default after drag, no action")}},afterDraw:{type:Function,default:function(){console.log("default after draw, no action")}},afterZoom:{type:Function,default:function(){console.log("default after zoom, no action")}},zoom:{type:Number,default:15},search:{},infowindow:!1},data:function(){return{pins:[],_gmap:null,_searchTimeout:null}},watch:{locations:function(t,e){this.singletonMap(),this.locations=t,this.removeMarkers(),this.markLocations()},search:function(t,e){this.initSearch()}},methods:{setCenter:function(t){this.center=t},singletonMap:function(){this._gmap||this.initMap()},prepareMapOptions:function(t){var e=settings.vue.gmaps.themes.getOptions(t);return e.center&&(e.center=new google.maps.LatLng(e.center[0],e.center[1])),e},initMap:function(){this._gmap=new google.maps.Map($(this.selector)[0],this.prepareMapOptions(this.theme));var t=google.maps.event.addListener(this._gmap,"idle",function(){google.maps.event.removeListener(t),this._gmap.setOptions({minZoom:5}),this.removeMarkers(),this.markLocations(),this.locations.length>0?this.fitBounds():this.fitForNoMarkers(),google.maps.event.addListener(this._gmap,"dragend",this.afterDrag),google.maps.event.addListener(this._gmap,"zoom_changed",this.afterZoom)}.bind(this))},fitForNoMarkers:function(){console.log("fitting for no markers",this.center);var t=this.center.split(";"),e=new google.maps.LatLng(t[0],t[1]);this._gmap.setCenter(e),this._gmap.setZoom(7),google.maps.event.trigger(this._gmap,"resize")},fitForOneMarker:function(){console.log("fitting for one marker",this.locations[0].geo);var t=this.locations[0].geo,e=new google.maps.LatLng(t[0],t[1]);this._gmap.setCenter(e),this._gmap.setZoom(13);var i=new google.maps.LatLngBounds;i.extend(e),this._gmap.fitBounds(i),google.maps.event.trigger(this._gmap,"resize")},fitBounds:function(){if(0!=this.pins.length)if(1!=this.pins.length){var t=new google.maps.LatLngBounds;$.each(this.pins,function(e,i){t.extend(i.position)}),this._gmap.fitBounds(t)}else this.fitForOneMarker();else this.fitForNoMarkers()},fitToDefault:function(){console.log("fit to default");var t=new google.maps.LatLngBounds,e=this.center.split(";");console.log(e),t.extend(new google.maps.LatLng(e[0],e[1])),console.log("fitting to bounds",t),this._gmap.fitBounds(t),google.maps.event.trigger(this._gmap,"resize")},addPublicMarker:function(t,e){var i=new google.maps.Marker({position:t,map:this._gmap,draggable:!0,loc:e});return this.pins.push(i),google.maps.event.addListener(i,"dragend",function(t){var e=t.latLng.lat()+";"+t.latLng.lng();this.$emit("change",e),this.$emit("input",e)}.bind(this)),this.infowindow&&google.maps.event.addListener(i,"click",function(){infowindow.setContent(e.id),infowindow.setPosition(i.position),infowindow.open(this._gmap)}.bind(this,i)),i},removeMarker:function(t){t.setMap(null)},removeMarkers:function(){for(var t in this.pins)this.removeMarker(this.pins[t]);this.pins=[]},getLatLngFromCmsMap:function(t){return new google.maps.LatLng(parseFloat(t[0]),parseFloat(t[1]))},markLocations:function(){for(var t in this.locations){var e=this.locations[t],i=this.getLatLngFromCmsMap(e.geo);this.addPublicMarker(i,e)}this.afterDraw()},initSearch:function(){this.singletonMap(),this.fetchsearch()},fetchsearch:function(){this.search?(clearTimeout(this._searchTimeout),this._searchTimeout=setTimeout(function(){http.get("https://maps.googleapis.com/maps/api/geocode/json?"+(Pckg&&Pckg.config&&Pckg.config.apis&&Pckg.config.apis.googleConsole?"key="+Pckg.config.apis.googleConsole+"&":"")+"address="+this.search).success(function(t){var e;if(console.log("results",t),void 0!==t.results&&t.results.length>0)if($.each(t.results,function(t,i){if(i.geometry.location)return e=i.geometry.location,!1}),e){var i=[e.lat,e.lng];this.locations=[{geo:i}],this.fitBounds()}else this.fitToDefault()}.bind(this))}.bind(this),333)):(this.$parent.updateLocation(null,null,null),this.fitToDefault())},getLocation:function(){return 0==this.locations.length?null:this.locations[0]}},ready:function(){void 0!==this.search?this.initSearch():this.initMap()}},u=Object(r.a)(c,l,[],!1,null,null,null);u.options.__file="vendor/pckg/helpers-js/vue/gmaps.vue";var d=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pckg-dynamic-paginator"},[t.total>t.perPage&&t.perPage>t.limits[0]?i("div",{staticClass:"pull-left"},[i("div",{staticClass:"btn-group btn-group-md dropup",staticStyle:{display:"table",margin:"0 auto"}},[i("div",{staticClass:"btn btn-default"},[i("a",{attrs:{title:"view",href:"#"}},[t._v("\n                    Show: "+t._s(t.perPage)+" items\n                ")])]),t._v(" "),t._m(0),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[i("li",[t._l(t.limits,function(e){return i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.setPerPage(e)}}},[t._v(t._s(e)+" per page")])}),t._v(" "),i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setPerPage("all")}}},[t._v("all")])],2)])])]):t._e(),t._v(" "),i("div",["all"!=t.perPage&&t.total>t.perPage?i("nav",{staticClass:"text-center"},[i("ul",{staticClass:"pagination pagination-sm"},[i("li",[i("a",{class:{disabled:1==t.page},attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.prev(e)}}},[i("i",{staticClass:"fa fa-chevron-left"})])]),t._v(" "),t._l(t.pages,function(e,s){return i("li",{key:s,class:{active:e==t.page}},[i("a",{class:{disabled:"..."==t.page},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.navigate(e)}}},[t._v(t._s(e))])])}),t._v(" "),i("li",[i("a",{class:{disabled:t.page==Math.ceil(t.total/t.perPage)},attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.next(e)}}},[i("i",{staticClass:"fa fa-chevron-right"})])])],2)]):t._e()]),t._v(" "),i("div",{staticClass:"clearfix"})])};p._withStripped=!0;var h={props:{initialPerPage:0,initialPage:0,total:0,url:null,resetpaginatorurl:null,initialRecords:{default:function(){return[]}},initialGroups:{default:function(){return[]}}},data:function(){return{margin:5,limits:[25,50,100,250,500,1e3,5e3],page:this.initialPage,perPage:this.initialPerPage,groups:this.initialGroups,records:this.initialRecords}},computed:{pages:function(){var t=[1],e=Math.ceil(this.total/this.perPage);this.page>this.margin&&t.push("...");for(var i=this.page-this.margin;i<this.page+this.margin;i++)i<2||i>e||t.push(i);return-1==t.indexOf(e)&&(-1==t.indexOf(e-1)&&t.push("..."),t.push(e)),t}},methods:{prev:function(){this.navigate(this.page-1)},next:function(){this.navigate(this.page+1)},navigate:function(t){t<1||t>Math.ceil(this.total/this.perPage)||(this.page=t,this.resetpaginatorurl({page:t}))},setPerPage:function(t){this.perPage=t,this.resetpaginatorurl({perPage:t})}}},v=Object(r.a)(h,p,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"caret"}),this._v(" "),e("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])}],!1,null,null,null);v.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-dynamic-paginator.vue";var f=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a",{staticClass:"text-center",attrs:{href:"#",title:t.formattedValue},on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[i("i",{class:"fa-"+t.iconClass})])])};g._withStripped=!0;var m={data:function(){return{}},props:{field:null,record:null,value:null,min:null,max:null,table:null,url:null},methods:{toggle:function(){var t=null;"2100-01-01 00:00:00"==this.min?this.value<=this.max?(this.value=this.min,t=0):(this.value=this.max,t=1):null==this.min?this.value<=this.max?(this.value=this.min,t=0):(this.value=this.max,t=1):this.value<=this.min?(this.value=this.max,t=1):(this.value=this.min,t=0),http.getJSON(utils.url(this.url,{record:this.record,field:this.field,state:t,table:this.table.id}),function(t){}.bind(this))}},computed:{iconClass:function(){return"2100-01-01 00:00:00"==this.min?this.value>this.max?"circle far clr-error":"circle fas clr-success":null==this.min?this.value>this.max||this.value==this.min?"circle far clr-error":"circle fas clr-success":this.value<=this.min?"circle far clr-error":"circle fas clr-success"},brValue:function(){return this.noBrValue.split("").reverse().join("").replace(" ","*").split("").reverse().join("").replace("*","<br />")},noBrValue:function(){return this.value},formattedValue:function(){return locale.datetime(this.value)}}},_=Object(r.a)(m,g,[],!1,null,null,null);_.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-datetime.vue";var b=_.exports,y=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{type:"number",step:"1"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})};y._withStripped=!0;var k={data:function(){return{_changeTimeout:null}},props:{field:null,record:null,value:null,table:null,url:null},watch:{value:function(){clearTimeout(this._changeTimeout),this._changeTimeout=setTimeout(function(){this.saveData()}.bind(this),1e3)}},methods:{saveData:function(){http.getJSON(utils.url(this.url,{record:this.record,field:this.field,order:this.value,table:this.table.id}),function(t){}.bind(this))}}},w=Object(r.a)(k,y,[],!1,null,null,null);w.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-order.vue";var C=w.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"pckg-tabelize-field-boolean",class:t.onClass,attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[i("i",{staticClass:"fa",class:t.iconClass})])};S._withStripped=!0;var x={data:function(){return{}},props:{field:null,record:null,value:null,table:null,url:null},methods:{toggle:function(){this.value=this.value>0?0:1,http.getJSON(utils.url(this.url,{table:this.table.id,record:this.record,field:this.field,state:this.value>0?1:0}),function(t){}.bind(this))}},computed:{onClass:function(){return this.value>0?"on":"off"},iconClass:function(){return"fa-toggle-"+this.onClass}}},P=Object(r.a)(x,S,[],!1,null,null,null);P.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-boolean.vue";var O=P.exports,M=function(){var t=this.$createElement;return(this._self._c||t)("div",{domProps:{innerHTML:this._s(this.strippedContent)}})};M._withStripped=!0;var j={data:function(){return{}},props:{value:null},computed:{strippedContent:function(){var t=document.createElement("div");return t.innerHTML=this.value,utils.nl2br((t.textContent||t.innerText||"").substr(0,200))}}},q=Object(r.a)(j,M,[],!1,null,null,null);q.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-editor.vue";var F=q.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pckg-htmlbuilder-select btn-group"},[i("a",{staticClass:"btn btn-default btn-md",attrs:{href:"button",href:t.realViewUrl,target:"_blank",title:"View"}},[i("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("a",{staticClass:"btn btn-default btn-md",attrs:{href:"button",href:t.url,target:"_blank",title:"To list"}},[i("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("button",{staticClass:"btn btn-default btn-md",attrs:{type:"button",title:"Refresh"},on:{click:function(e){return e.preventDefault(),t.refreshList(e)}}},[i("i",{staticClass:"fa fa-sync-alt",attrs:{"aria-hidden":"true"}})])])};N._withStripped=!0;var L={mixins:[pckgTranslations],props:{value:null,url:null,viewUrl:null,refreshUrl:null,initialOptions:{default:function(){return[]}}},data:function(){return{options:this.initialOptions,v:null}},methods:{refreshList:function(){http.getJSON(this.refreshUrl,function(t){var e=$(this.$el).next().find("select"),i=e.val();e.html(""),$.each(t.records,function(t,i){if("object"==typeof i||"array"==typeof i){var s='<optgroup label="'+t+'">';$.each(i,function(t,e){s+='<option value="'+(0===t?"":t)+'">'+e+"</option>"}),s+="</optgroup>",e.append(s)}else e.append('<option value="'+(0===t?"":t)+'">'+i+"</option>")}),e.selectpicker("refresh"),e.val(i).change()}.bind(this))}},computed:{realViewUrl:function(){return utils.url(this.viewUrl,{record:this.value})}}},T=Object(r.a)(L,N,[],!1,null,null,null);T.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-htmlbuilder-select.vue";var R=T.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group btn-group-sm pull-right"},[t._m(0),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.actions.record,function(e){return e.recordHref&&t.record[e.recordHref]||e.event?i("li",[e.recordHref&&t.record[e.recordHref]?i("a",{attrs:{href:t.record[e.recordHref]}},[i("i",{staticClass:"fa",class:"fa-"+e.icon}),t._v("\n                "+t._s(e.title)+"\n            ")]):e.event?i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.recordAction(t.record,e.event)}}},[i("i",{staticClass:"fa",class:"fa-"+e.icon}),t._v("\n                "+t._s(e.title)+"\n            ")]):t._e()]):t._e()}),0)])};V._withStripped=!0;var E={name:"pckg-maestro-actions",template:"#pckg-maestro-actions",props:{actions:{},record:{type:Object,required:!0},recordactionhandler:{},identifier:{default:"",type:String}},methods:{recordAction:function(t,e){this.$parent.localBus.$emit("record:"+e,t,t.id,this.identifier)}},created:function(){Vue.nextTick(function(){$(this.$el).find(".dropdown-toggle").each(function(){$(this).on("mouseenter",function(){$(this).click(),$(this).parent().on("mouseleave",function(){$("body").trigger("click")})})})}.bind(this))}},D=Object(r.a)(E,V,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"caret"}),this._v(" "),e("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])}],!1,null,null,null);D.options.__file="vendor/pckg/generic/src/Pckg/Maestro/View/_pckg_maestro_actions.vue";var A=D.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{on:{dblclick:function(e){return e.preventDefault(),t.toggleEditable(e)}}},["boolean"==t.type?[t.editable?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:function(e){var i=t.model,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=t._i(i,null);s.checked?r<0&&(t.model=i.concat([null])):r>-1&&(t.model=i.slice(0,r).concat(i.slice(r+1)))}else t.model=n}}})]:[i("pckg-tabelize-field-boolean",{attrs:{field:t.fieldId,record:t.record.id,value:t.value,table:t.table,url:t.toggleFieldUrl}})]]:"order"==t.type?[i("pckg-tabelize-field-order",{key:t.record.id,attrs:{field:t.fieldId,record:t.record.id,value:t.value,table:t.table,url:t.orderFieldUrl}})]:"datetime"==t.type&&t.isTogglable?[t.editable?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"date"},domProps:{value:t.model},on:{input:function(e){e.target.composing||(t.model=e.target.value)}}})]:[i("pckg-tabelize-field-datetime",{attrs:{field:t.fieldId,record:t.record.id,value:t.value,table:t.table,min:t.minTogglable,max:t.maxTogglable,url:t.toggleFieldUrl}})]]:"editor"==t.type?[t.editable?[i("textarea",{domProps:{innerHTML:t._s(t.model)}},[t._v(t._s(t.model))])]:[i("pckg-tabelize-field-editor",{attrs:{value:t.value}})]]:"select"==t.type?[t.editable?t._e():[i("pckg-maestro-field-indicator",{attrs:{field:t.myField,record:t.record,"db-field":t.dbField}}),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.richValue)}})]]:"php"==t.type?[t.editable?t._e():[i("span",{domProps:{innerHTML:t._s(t.value)}})]]:[t.editable?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"text"},domProps:{value:t.model},on:{input:function(e){e.target.composing||(t.model=e.target.value)}}})]:["id"==t.key?[i("a",{staticClass:"nobr",attrs:{href:t.record.viewUrl,title:"Open record"},domProps:{innerHTML:t._s(t.value)}})]:"title"==t.key?[i("a",{attrs:{href:t.record.viewUrl,title:"Open record"},domProps:{innerHTML:t._s(t.value)}})]:[i("span",{staticClass:"raw"},[t._v(t._s(t.value))])]]]],2),t._v(" "),t.editable?i("div",[i("button",{staticClass:"btn btn-xs btn-danger",attrs:{href:"#",title:"Cancel changes"},on:{click:function(e){return e.preventDefault(),t.cancelChanges(e)}}},[i("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("button",{staticClass:"btn btn-xs btn-success",attrs:{href:"#",title:"Save changes"},on:{click:function(e){return e.preventDefault(),t.saveChanges(e)}}},[i("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})])]):t._e()])};z._withStripped=!0;var I={name:"pckg-maestro-field",props:{field:{type:Object,required:!0},record:{type:Object,required:!0},table:{type:Object,required:!0},relations:{},parentFields:{}},watch:{field:function(t){this.myField=t},relations:function(t){this.myRelations=t},parentFields:function(t){this.myFields=t}},data:function(){return{myField:this.field,myRelations:this.relations,myFields:this.parentFields,editable:!1,toggleFieldUrl:Pckg.router.urls["dynamic.records.field.toggle"],orderFieldUrl:Pckg.router.urls["dynamic.records.field.order"],model:null}},methods:{toggleEditable:function(){},saveChanges:function(){this.editable=!1},cancelChanges:function(){this.editable=!1}},computed:{fieldId:function(){let t=null;return $.each(this.myFields,function(e,i){if(i.field==this.myField.field)return t=i.id,!1}.bind(this)),t},dbField:function(){if("string"!=typeof this.myField.field)return null;let t;return $.each(this.myFields,function(e,i){if(i.field==this.myField.field)return t=i,!1}.bind(this)),t},isTogglable:function(){let t=this.dbField;return!!t&&t.isTogglable},minTogglable:function(){let t=this.dbField;return!!t&&t.minTogglable},maxTogglable:function(){let t=this.dbField;return!!t&&t.maxTogglable},type:function(){if("string"==typeof this.myField.field){let t;return $.each(this.myFields,function(e,i){if(i.field==this.myField.field)return t=i.fieldType.slug,!1}.bind(this)),t}return"relation"},key:function(){if("string"==typeof this.myField.field)return this.myField.field},value:function(){if("string"==typeof this.myField.field)return this.record[this.key]},richValue:function(){if("string"==typeof this.myField.field)return this.record["*"+this.key]}},mounted:function(){this.$nextTick(function(){$(document).on("keyup",function(t){27==t.keyCode&&(this.editable=!1)}.bind(this))}.bind(this))}},U=Object(r.a)(I,z,[],!1,null,null,null);U.options.__file="vendor/pckg/generic/src/Pckg/Maestro/View/_pckg_maestro_field.vue";var H=U.exports,J=i(5),B=i(4),Q=i(3),G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"impero-servers-one-component"},[i("h1",[t._v(t._s(t.server.name)+" / "+t._s(t.server.ip)+" / "+t._s(t.server.status))]),t._v(" "),i("h6",[t._v("#web + #db + #cron + #mail")]),t._v(" "),t._l(t.server.tags,function(e){return i("span",[t._v("#${ tag.tag } ")])}),t._v(" "),i("div",[t._m(0),t._v(" "),i("div",{staticClass:"tab-content"},[i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"services"}},[i("button",{staticClass:"btn btn-success btn-xs",attrs:{title:"Refresh services"},on:{click:function(e){return t.server.refreshServicesStatuses()}}},[i("i",{staticClass:"fa fa-refresh"})]),t._v(" "),i("button",{staticClass:"btn btn-success btn-xs",attrs:{title:"Install services"},on:{click:function(e){return e.preventDefault(),t.openInstallServicesPopup(e)}}},[i("i",{staticClass:"fa fa-plus"})]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",[i("pckg-bootstrap-modal",{attrs:{visible:t.installServicesModal},on:{close:function(e){t.installServicesModal=!1}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("h4",[t._v("Install services")])]),t._v(" "),i("div",{attrs:{slot:"body"},slot:"body"},[i("p",[t._v("Select services you wish to install.")]),t._v(" "),i("ul",t._l(t.allServices,function(e){return e.isInstalledOnServer(t.server)?t._e():i("li",[t._v("\n                                            "+t._s(e.name)+" "),i("a",{staticClass:"btn btn-xs",attrs:{href:e.getInstallOnServerUrl(t.server)}},[i("i",{staticClass:"fa fa-plus"})])])}),0)])])],1),t._v(" "),i("h3",[t._v("Services")]),t._v(" "),i("table",{staticClass:"table table-condensed table-striped"},[t._m(1),t._v(" "),i("tbody",t._l(t.server.services,function(e){return i("tr",[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.version))]),t._v(" "),i("td",[[i("button",{staticClass:"btn btn-warning btn-xs",on:{click:function(i){t.configureModal=e.service}}},[i("i",{staticClass:"fa fa-cogs"})]),t._v(" "),i("pckg-bootstrap-modal",{attrs:{visible:t.configureModal==e.service},on:{close:function(i){t.configureModal==e.service&&(t.configureModal=null)}}},[t.configureModal==e.service?i("div",{attrs:{slot:"body"},slot:"body"},[i("impero-service-configure-"+e.service,{tag:"component",attrs:{server:t.server,service:e}})],1):t._e()])],t._v("\n\n                                    "+t._s(e.status)+"\n                                ")],2)])}),0)])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("h3",[t._v("Dependencies")]),t._v(" "),i("table",{staticClass:"table table-condensed table-striped"},[t._m(2),t._v(" "),i("tbody",t._l(t.server.dependencies,function(e){return i("tr",[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.version))]),t._v(" "),i("td",[t._v("\n                                    "+t._s(e.status_id)+"\n                                ")])])}),0)])])])]),t._v(" "),i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"applications"}},[i("div",{staticClass:"row"},[i("impero-servers-one-applications",{attrs:{server:t.server}})],1)]),t._v(" "),i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"deployments"}},[i("table",{staticClass:"table table-condensed table-striped"},[t._m(3),t._v(" "),i("tbody",t._l(t.server.deployments,function(e){return i("tr",[i("td",[t._v("${ deployment.application.name }")]),t._v(" "),i("td",[t._v("${ deployment.started_at | datetime }")]),t._v(" "),i("td",[t._v("${ deployment.ended_at | datetime }")]),t._v(" "),i("td",[t._v("${ deployment.version }")]),t._v(" "),i("td",[t._v("${ deployment.status }")])])}),0)])]),t._v(" "),i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"jobs"}},[i("table",{staticClass:"table table-condensed table-striped"},[t._m(4),t._v(" "),i("tbody",t._l(t.server.jobs,function(e){return i("tr",[i("td",[t._v("${ job.user }")]),t._v(" "),i("td",[t._v("${ job.name }")]),t._v(" "),i("td",[t._v("${ job.command }")]),t._v(" "),i("td",[t._v("${ job.frequency }")]),t._v(" "),i("td",[t._v("${ job.status }")])])}),0)])]),t._v(" "),i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"logs"}},[i("table",{staticClass:"table table-condensed table-striped"},[t._m(5),t._v(" "),i("tbody",t._l(t.server.logs,function(e){return i("tr",[i("td",[t._v("${ log.name }")]),t._v(" "),i("td",[t._v("${ log.created_at | datetime }")]),t._v(" "),i("td",[t._v("${ log.description }")])])}),0)])]),t._v(" "),i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"notifications"}},[i("table",{staticClass:"table table-condensed table-striped"},[t._m(6),t._v(" "),i("tbody",t._l(t.server.logs,function(e){return i("tr",[i("td",[t._v("${ log.name }")]),t._v(" "),i("td",[t._v("${ log.created_at | datetime }")])])}),0)])]),t._v(" "),i("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"network"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("h3",[t._v("Network interfaces")]),t._v(" "),i("table",{staticClass:"table table-condensed table-striped"},[t._m(7),t._v(" "),i("tbody",t._l(t.server.networkInterfaces,function(e){return i("tr",[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.ipv4)),i("br"),t._v(t._s(e.ipv6))]),t._v(" "),i("td",[t._v(t._s(e.downloaded)+" / "+t._s(e.uploaded))]),t._v(" "),i("td",[t._v(t._s(e.mask))])])}),0)])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("h3",[t._v("Firewall settings")]),t._v(" "),i("table",{staticClass:"table table-condensed table-striped"},[t._m(8),t._v(" "),i("tbody",t._l(t.server.firewallSettings,function(e){return i("tr",[i("td",[t._v(t._s(e.rule))]),t._v(" "),i("td",[t._v(t._s(e.from))]),t._v(" "),i("td",[t._v(t._s(e.port))])])}),0)])])])]),t._v(" "),t._m(9)])])],2)};G._withStripped=!0;var W=i(2),Z={name:"impero-servers-one",mixins:[pckgDelimiters],props:{id:Number},data:function(){return{server:new W.a,installServicesModal:!1,configureModal:null}},methods:{hasComponent(t){return this.$root.$options.components[t]||!1},fetchServer:function(){(new W.b).one(this.id).then(function(t){console.log("got server",t,JSON.parse(t.toJSON())),this.server=t,console.log("fetched",this,this.$root,$vue)}.bind(this))},openInstallServicesPopup:function(){this.installServicesModal=!0}},computed:{allServices:function(){return $store.getters.services},services:function(){return this.server.services?this.server.services:[]},installedServices:function(){return this.services.filter(function(t){return"yes"==t.installed})},availableServices:function(){return this.services.filter(function(t){return"no"==t.installed})}},created:function(){this.fetchServer(),$store.dispatch("prepareServices")}},X=Object(r.a)(Z,G,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#services","aria-controls":"services",role:"tab","data-toggle":"tab"}},[t._v("Services and\n                    dependencies")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#applications","aria-controls":"applications",role:"tab","data-toggle":"tab"}},[t._v("Applications")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#deployments","aria-controls":"deployments",role:"tab","data-toggle":"tab"}},[t._v("Deployments")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab"}},[t._v("Jobs")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#logs","aria-controls":"logs",role:"tab","data-toggle":"tab"}},[t._v("Logs")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#notifications","aria-controls":"logs",role:"tab","data-toggle":"tab"}},[t._v("Notifications")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#network","aria-controls":"network",role:"tab","data-toggle":"tab"}},[t._v("Network and firewall")])]),t._v(" "),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#tasks","aria-controls":"tasks",role:"tab","data-toggle":"tab"}},[t._v("Tasks")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Service")]),this._v(" "),e("th",[this._v("Version")]),this._v(" "),e("th",[this._v("Status")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Dependency")]),this._v(" "),e("th",[this._v("Version")]),this._v(" "),e("th",[this._v("Status")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Application")]),t._v(" "),i("th",[t._v("Started at")]),t._v(" "),i("th",[t._v("Ended at")]),t._v(" "),i("th",[t._v("Version")]),t._v(" "),i("th",[t._v("Status")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("User")]),t._v(" "),i("th",[t._v("Name")]),t._v(" "),i("th",[t._v("Command")]),t._v(" "),i("th",[t._v("Frequency")]),t._v(" "),i("th",[t._v("Status")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Log")]),this._v(" "),e("th",[this._v("Datetime")]),this._v(" "),e("th",[this._v("Description")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Notification")]),this._v(" "),e("th",[this._v("Datetime")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Interface")]),this._v(" "),e("th",[this._v("IP")]),this._v(" "),e("th",[this._v("Transfer (D/U)")]),this._v(" "),e("th",[this._v("Mask")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Rule")]),this._v(" "),e("th",[this._v("From")]),this._v(" "),e("th",[this._v("Service / Port")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"tasks"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h3",[this._v("Tasks")])])])])}],!1,null,null,null);X.options.__file="app/impero/src/Impero/Servers/View/servers/one.vue";var K=X.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.modal="addNewApplication"}}},[i("i",{staticClass:"fa fa-plus"},[t._v("Add new application")])]),t._v(" "),i("pckg-bootstrap-modal",{attrs:{visible:"addNewApplication"==t.modal}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("service-autoinstall"),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v("Application")]),t._v(" "),i("div",[t._v("\n                    mailo.foobar.si\n                ")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v("Service")]),t._v(" "),i("div",[i("pckg-select",{attrs:{"initial-options":t.initialServices,"initial-multiple":!1}})],1)]),t._v(" "),i("div",{staticClass:"help"},[t._v("We would like to create new RabbitMq services on existing infrastructure.")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Install RabbitMq on one.gonparty.eu")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Service has been installed.")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Remove cron:newsletter service from one.gonparty.eu")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Cron has been removed.")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Add sendmail:newsletter to one.gonparty.eu")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Service has been started")]),t._v(" "),i("p",[t._v("Select new or existing service you'd like to scale up")]),t._v(" "),i("p",[t._v("SendMailNewsletter jobs requires additional module (php-imap) and sendmail service installed on\n                server.")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Install php-imap PHP module on two.gonparty.eu")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Install sendmail on two.gonparty.eu")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Module successfully established.")]),t._v(" "),i("p",[t._v("Web service on two.gonparty.eu requires communication with master database on zero.gonparty.eu:3306\n                and slave on one.gonparty.eu:3306.")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Connect two.gonparty.eu and zero.gonparty.eu via VPN\n            ")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Connect two.gonparty.eu and one.gonparty.eu via VPN\n            ")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Network connection successfully established.")]),t._v(" "),i("p",[t._v("SendMailNewsletter job requires connection with RabbitMQ master on zero.gonparty.eu:1111")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Open port 1111 on existing VPN connection")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Port successfully opened.")]),t._v(" "),i("p",[t._v("Web service requires storage to be mounted")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Mount remote FRA01-01 from zero.gonparty.eu to\n                two.gonparty.eu via NFS\n            ")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Project checked out, configuration dumped.")]),t._v(" "),i("p",[t._v("SendMailNewsletter requires web service to be checked out")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Checkout project")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Project checked out, configuration dumped.")]),t._v(" "),i("p",[t._v("SendMailNewsletter service can now be deployed to two.gonparty.eu")]),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Deploy service")]),t._v(" "),i("p",{staticClass:"clr-success"},[t._v("Service deployed.")])],1)]),t._v(" "),i("table",{staticClass:"table table-condensed table-striped"},[t._m(0),t._v(" "),i("tbody",t._l(t.server.websites,function(e){return i("tr",[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v("\n                "+t._s(e.url)),i("br"),t._v(" "),t._l(e.urls,function(s,n){return i("span",[t._v(t._s(s)),n+1<e.urls.length?i("br"):t._e()])})],2),t._v(" "),i("td",[t._v(t._s(e.https))]),t._v(" "),i("td",[t._v(t._s(e.source))]),t._v(" "),i("td",[t._v(t._s(e.version))]),t._v(" "),i("td",[t._v(t._s(e.status))])])}),0)])],1)};Y._withStripped=!0;var tt={name:"derive-servers-one-applications",props:{server:{required:!0,type:Object}},data:function(){return{modal:null,initialServices:{web:"Web",cron:"Cron",db:"Database (slave)",mail:"Sendmail"}}}},et=Object(r.a)(tt,Y,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Website")]),t._v(" "),i("th",[t._v("Application")]),t._v(" "),i("th",[t._v("Url")]),t._v(" "),i("th",[t._v("Https")]),t._v(" "),i("th",[t._v("Source")]),t._v(" "),i("th",[t._v("Version")]),t._v(" "),i("th",[t._v("Status")])])])}],!1,null,null,null);et.options.__file="app/impero/src/Impero/Servers/View/servers/one_applications.vue";var it=et.exports,st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h4",[t._v("mailo.foobar.si")]),t._v(" "),i("ul",t._l(t.application.services,function(e){return i("li",[t._v("\n            "+t._s(e.servers.length)+"x "+t._s(e.name)+":\n            "),t._l(e.servers,function(e){return i("span",{staticClass:"label label-default",staticStyle:{"margin-right":".5rem"}},[t._v("["+t._s(e.name)+"]")])}),t._v(" "),i("span",{staticClass:"label label-default"},[t._v("[+]")])],2)}),0),t._v(" "),i("p",[t._v("Scaling "),i("b",[t._v(t._s(t.application.name))]),t._v("'s service "),i("b",[t._v(t._s(t.service.name))]),t._v(" to "),i("b",[t._v(t._s(t.server.name))])]),t._v(" "),t.requirementsLoaded?t._e():i("pckg-loader",{attrs:{visible:"!requirementsLoaded"}}),t._v(" "),i("b",[t._v("Requirements: "),0==t.requirements.length?i("span",{staticClass:"clr-success"},[t._v("ok")]):i("span",{staticClass:"clr-error"},[t._v("fix all issues")])]),t._v(" "),i("service-autoinstall-requirements",{attrs:{service:t.service,server:t.server,application:t.application,requirements:t.requirements}}),t._v(" "),i("hr"),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Deploy service "+t._s(t.service.name)+" to server "+t._s(t.server.name)+"\n    ")])],1)};st._withStripped=!0;var nt={props:{final:!0,server:{default:function(){return{id:1,name:"two.gonparty.eu"}}},service:{default:function(){return{id:1,name:"sendmail:transactional"}}},application:{default:function(){return{id:1,name:"mailo.foobar.si",services:[{name:"Web",servers:[{name:"Zero"},{name:"One"}]},{name:"Cron",servers:[{name:"Zero:transactional"},{name:"One:newsletter"}]},{name:"Storage",servers:[{name:"FRA1-01"}]},{name:"Database",servers:[{name:"Zero:master"},{name:"One:slave"}]},{name:"RabbitMQ:newsletter",servers:[]},{name:"RabbitMQ:transactional",servers:[]},{name:"RabbitMQ:dedicated",servers:[]}]}}}},data:function(){return{requirementsLoaded:!0,requirements:[{name:"RabbitMQ (local)",type:"resource",requirements:[]},{name:"RabbitMQ (remote)",type:"resource",requirements:[{name:"Network connection",type:"network",settings:{from:"two.gonparty.eu",to:"zero.gonparty.eu",port:5123},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]}]},{name:"Web",type:"service",requirements:[{name:"Database",type:"resource",requirements:[{name:"mailo_mailo",type:"resource:database",requirements:[]},{name:"Network connection",type:"network",settings:{from:"two.gonparty.eu",to:"zero.gonparty.eu",port:3306},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]},{name:"Network connection",type:"network",settings:{from:"two.gonparty.eu",to:"one.gonparty.eu",port:3306},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]}]},{name:"Network connection",type:"network",settings:{from:"zero.gonparty.eu",to:"two.gonparty.eu",port:80},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]},{name:"Network connection",type:"network",settings:{from:"zero.gonparty.eu",to:"two.gonparty.eu",port:443},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]}]}]}},computed:{requirementsMet:function(){return this.final}}},rt=Object(r.a)(nt,st,[],!1,null,null,null);rt.options.__file="app/impero/src/Impero/Servers/View/servers/service_autoinstall.vue";var at=rt.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",t._l(t.requirements,function(e){return i("li",[t._v("\n        "+t._s(e.name)+"\n\n        "),"service"==e.type?[e.requirements.length>0?i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("fix all issues")]):t._e(),t._v(" "),e.installed?t._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("install locally")])]:"resource"==e.type?[e.requirements.length>0?i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("fix all issues")]):t._e(),t._v(" "),e.installed?t._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("install locally")]),t._v(" "),e.installed?t._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("install on remote")]),t._v(" "),e.installed?t._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("select remote")])]:"network"==e.type?[e.requirements.length>0?i("a",{staticClass:"clr-error",attrs:{href:"#"}},[t._v("fix all issues")]):t._e(),i("br"),t._v("\n            "+t._s(e.settings.from)+" -> "+t._s(e.settings.to)+":"+t._s(e.settings.port)+"\n        ")]:t._e(),t._v(" "),e.requirements.length>0?i("service-autoinstall-requirements",{attrs:{server:t.server,service:t.service,requirements:e.requirements}}):t._e()],2)}),0)};ot._withStripped=!0;var lt={name:"service-autoinstall-requirements",props:{server:{},service:{},application:{},requirements:{}}},ct=Object(r.a)(lt,ot,[],!1,null,null,null);ct.options.__file="app/impero/src/Impero/Servers/View/servers/service_autoinstall_requirements.vue";var ut=ct.exports,dt=(i(1),{state:{services:[]},getters:{services:function(t){return t.services}},mutations:{setServices:function(t,e){t.services=e}},actions:{prepareServices:function(t){console.log("preparing services"),(new W.d).all().then(function(t){$store.commit("setServices",t)})}}});Pckg.vue.stores.impero=dt,Vue.component("pckg-ping",o),Vue.component("vue-component-gmaps",d),Vue.component("pckg-dynamic-paginator",f),Vue.component("pckg-tabelize-field-datetime",b),Vue.component("pckg-tabelize-field-order",C),Vue.component("pckg-tabelize-field-boolean",O),Vue.component("pckg-tabelize-field-editor",F),Vue.component("pckg-htmlbuilder-select",R),window.pckgMaestroActionsComponent=Vue.component("pckg-maestro-actions",A),Vue.component("pckg-maestro-field",H),Vue.component("pckg-bootstrap-alert",J.a),Vue.component("pckg-bootstrap-modal",B.a),Vue.component("pckg-dispatcher-notifications",Q.a),Vue.component("impero-servers-one",K),Vue.component("impero-servers-one-applications",it),Vue.component("service-autoinstall",at),Vue.component("service-autoinstall-requirements",ut)}]);