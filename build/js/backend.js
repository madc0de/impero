!function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/build/js/",r(r.s=13)}([function(t,e,i){"use strict";function n(t,e,i,n,r,s,a,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}i.d(e,"b",function(){return l}),i.d(e,"a",function(){return u});var l=function(){function n(t,e){a(this,n),this.$data=t||{},this.$relations=e||{},this.$entity=u;var i=this;return this.$fetches={},new Proxy(this,{get:function(t,e){return t.__get.call(t,e)},apply:function(t,e){return i.__apply.call(i,e,t)},ownKeys:function(){return i.ownKeys()}})}return o(n,[{key:"__set",value:function(t,e){return 0===t.indexOf("$")?(this[t]=e,!0):(this.$data[t]=e,this)}},{key:"__get",value:function(t){return"string"!=typeof t||0===t.indexOf("_")||0===t.indexOf("$")?this[t]:this.hasOwnProperty("get"+utils.ucfirst(t)+"Attribute")?this["get"+utils.ucfirst(t)+"Attribute"].call(this):this["get"+utils.ucfirst(t)+"Relation"]?this["get"+utils.ucfirst(t)+"Relation"].call(this):this.$data.hasOwnProperty(t)?this.$data[t]:this[t]}},{key:"__apply",value:function(t,e){return e.apply(void 0,r(t))}},{key:"ownKeys",value:function(){var t=this.$definition,e=[Object.keys(this),t?t().relations:[]],i={};return $.each(e,function(t,e){$.each(e,function(t,e){i[e]=e})}),i=Object.keys(i)}},{key:"$autoFetch",value:function(t,i){var n=Array.isArray(t)?t[0]:t,r=Array.isArray(t)?t[1]:t;return this[r]||(this[r]=[]),this.id&&this.$fetcher(r,function(){var e=new i;return(new this.$entity).all([this.id,n]).then(function(t){this[r]=t.map(function(t){return new e.$record(t)}.bind(this))}.bind(this))}.bind(this)),this[r]}},{key:"$fetcher",value:function(t,e){this.$fetches[t]||(this.$fetches[t]=e().finally(function(){}.bind(this)))}},{key:"toJSON",value:function(){var i={};$.each(Object.keys(this),function(t,e){0!==e.indexOf("$")&&0!==e.indexOf("_")&&(i[e]=this[e])}.bind(this));var t=this.$definition;t&&$.each(t().relations,function(t,e){i[e]=this[e]}.bind(this));var n=[],e=JSON.stringify(i,function(t,e){if("object"===s(e)&&null!==e){if(-1!==n.indexOf(e))try{return JSON.parse(JSON.stringify(e))}catch(t){return null}n.push(e)}return e});return n=null,e}},{key:"data",value:function(t,e){return void 0===e&&(e=null),this[t]||e}},{key:"relation",value:function(t,e){return void 0===e&&(e=[]),this[t]||e}},{key:"getEntity",value:function(){return new this.$entity}},{key:"save",value:function(){return this.$data.id?this.update():this.insert()}},{key:"update",value:function(){var t=this.getEntity(),e=t.getRepository(),i=this.$data;if(i.id){var n=t.getApiPath();if(n)return n+="/"+i.id,e.post(n,this.$data)}}},{key:"insert",value:function(){}},{key:"delete",value:function(){}},{key:"get",value:function(){return this.$data}}],[{key:"get",value:function(){}}]),n}(),c=function(){function t(){a(this,t),this.$binds=[],this.$children=[],this.$fields={},this.$limit=null,this.$page=1,this.$direction=null,this.$sort=null,this.$search=null,this.$meta={}}return o(t,[{key:"select",value:function(t){return this.$fields=t,this}},{key:"search",value:function(t){return this.$search=t,this}},{key:"getSearch",value:function(){return this.$search}},{key:"addSelect",value:function(t){if("string"==typeof t){var e={};e[t]=t,t=e}return this.$fields=Object.assign(this.$fields,t),this}},{key:"getFields",value:function(){return this.$fields}},{key:"where",value:function(t,e,i){var n=!(1<arguments.length&&void 0!==e)||e,r=2<arguments.length&&void 0!==i?i:"=";return this.$children.push({k:t,v:n,c:r}),this}},{key:"limit",value:function(t){return this.$limit=t,this}},{key:"getLimit",value:function(){return this.$limit}},{key:"page",value:function(t){return this.$page=t,this}},{key:"getPage",value:function(){return this.$page}},{key:"sort",value:function(t){return this.$sort=t,this}},{key:"getSort",value:function(){return this.$sort}},{key:"direction",value:function(t){return this.$direction=t,this}},{key:"getDirection",value:function(){return this.$direction}},{key:"getFilters",value:function(){return this.$children}},{key:"setMeta",value:function(t){return this.$meta=t,this}},{key:"getMeta",value:function(){return this.$meta}}]),t}(),u=function(){function e(t){a(this,e),this.$path=null,this.$record=l,this.$repository=d,this.$repositoryObject=t||null,this.$query=c}return o(e,[{key:"setPath",value:function(t){return this.$path=t,this}},{key:"getQuery",value:function(){return"object"!==s(this.$query)&&(this.$query=new c),this.$query}},{key:"where",value:function(t,e,i){return this.getQuery().where(t,e,i),this}},{key:"limit",value:function(t){return this.getQuery().limit(t),this}},{key:"page",value:function(t){return this.getQuery().page(t),this}},{key:"getRepository",value:function(t){return this.$repositoryObject&&!t||(this.$repositoryObject=new this.$repository),this.$repositoryObject}},{key:"getApiPath",value:function(t){var e=this.$path;if(!e&&!t)return null;var i=e?"/"+e:"";if("string"==typeof t)0===t.indexOf("/")?i=t:i+="/"+t;else if("number"==typeof t)i+="/"+t;else if(Array.isArray(t)&&0<t.length)i+="/"+t.join("/");else if(!t){var n=this.$query;if("object"==s(n)&&1==n.$children.length){var r=n.$children[0];"id"==r.key&&"="===r.comparator&&(i+="/"+r.value)}}return i}},{key:"one",value:function(t){var e=this.getApiPath(t);return this.getRepository().one(e).then(function(t){var e=Object.keys(t);return new this.$record(1==e.length?t[e[0]]:{})}.bind(this))}},{key:"exp",value:function(t,e){var i=this.getApiPath(t);return this.getRepository().exp(i,this.getQuery()).then(function(t){return e&&e(t),t}.bind(this))}},{key:"all",value:function(t,s){var e=this.getApiPath(t);return this.getRepository().all(e,this.getQuery()).then(function(t){var e=Object.keys(t),i=this.$record,n=e[0];1<e.length&&0<=e.indexOf("records")&&(n="records");var r=t[n].map(function(t){return new i(t)}.bind(this));return s&&s(t),r}.bind(this))}},{key:"get",value:function(t,e){var i=this.getApiPath(t);if(i)return this.getRepository().get(i,e).then(function(t){var e=Object.keys(t);return(1==e.length?t[e[0]]:[]).map(function(t,e){return new this.$record(t)}.bind(this))}.bind(this))}},{key:"post",value:function(t,e){var i=this.getApiPath(t);if(i)return this.getRepository().post(i,e).then(function(t){var e=Object.keys(t);return(1==e.length?t[e[0]]:[]).map(function(t,e){return new this.$record(t)}.bind(this))}.bind(this))}}]),e}(),d=function(){function e(t){a(this,e),console.log("Repository repository",t),this.$repository=f,this.$repositoryObject=t||null}return o(e,[{key:"getRepository",value:function(t){return this.$repositoryObject&&!t||(this.$repositoryObject=new this.$repository),this.$repositoryObject}},{key:"one",value:function(t){return this.getRepository().one(t)}},{key:"all",value:function(t,e){return this.getRepository().all(t,e)}},{key:"get",value:function(t){return this.getRepository().get(t)}},{key:"post",value:function(t,e){return this.getRepository().post(t,e)}},{key:"exp",value:function(t,e){return this.getRepository().exp(t,e)}}]),e}(),f=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"/api";a(this,e),this.$endpoint=t}return o(e,[{key:"setEndpoint",value:function(t){return this.$endpoint=t,this}},{key:"getQueryHeaders",value:function(t){return{"X-Pckg-Orm-Meta":JSON.stringify(t?t.getMeta():null),"X-Pckg-Orm-Search":JSON.stringify(t?t.getSearch():null),"X-Pckg-Orm-Filters":JSON.stringify(t?t.getFilters():[]),"X-Pckg-Orm-Fields":JSON.stringify(t?t.getFields():[]),"X-Pckg-Orm-Paginator":JSON.stringify(t?{page:t.getPage(),limit:t.getLimit(),sort:t.getSort(),dir:t.getDirection()}:{page:1,limit:null,sort:null,dir:null})}}},{key:"makeGetRequest",value:function(t,n){return new Promise(function(e,i){http.get((this.$endpoint||"")+t,function(t){e(t)},function(t){i({message:"Error making HTTP GET request",data:t})},{headers:this.getQueryHeaders(n)})}.bind(this))}},{key:"get",value:function(t){return this.makeGetRequest(t)}},{key:"one",value:function(t){return this.makeGetRequest(t)}},{key:"all",value:function(t,e){return this.makeGetRequest(t,e)}},{key:"exp",value:function(t,e){return this.makeGetRequest(t,e)}},{key:"post",value:function(t,n){return new Promise(function(e,i){http.post((this.$endpoint||"")+t,n,function(t){e({id:3,title:"Three"})}.bind(this),function(t){i(t)})}.bind(this))}}]),e}()},function(t,e,i){"use strict";i.d(e,"c",function(){return f}),i.d(e,"d",function(){return p}),i.d(e,"a",function(){return $}),i.d(e,"b",function(){return w});var n=i(1);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(){function i(t){var e;return s(this,i),(e=l(this,c(i).call(this,t))).$entity=p,e}return u(i,n["b"]),o(i,[{key:"isInstalledOnServer",value:function(t){return console.log("isInstalledOnServer",this,t),0<t.services.filter(function(t){return t.id==this.id||t.service==this.service}.bind(this)).length}},{key:"getInstallOnServerUrl",value:function(t){return utils.url("@api.services.install",{server:t.id,service:this.id})}},{key:"saveServerSettings",value:function(t){var e=t.settings2[this.service];this.getEntity().post([this.id||this.service,"server",t.id,"settings"],{settings:e})}},{key:"configure",value:function(){$dispatcher.$emit("impero-service-"+this.service+"-configure:open")}}]),i}(),p=function(){function e(){var t;return s(this,e),(t=l(this,c(e).call(this))).$path="services",t.$record=f,t}return u(e,n["a"]),e}(),h=function(){function i(t){var e;return s(this,i),(e=l(this,c(i).call(this,t))).$entity=v,e}return u(i,n["b"]),i}(),v=function(){function e(){var t;return s(this,e),(t=l(this,c(e).call(this))).$path="dependencies",t.$record=h,t}return u(e,n["a"]),e}(),m=function(){function i(t){var e;return s(this,i),(e=l(this,c(i).call(this,t))).$entity=g,e}return u(i,n["b"]),i}(),g=function(){function e(){var t;return s(this,e),(t=l(this,c(e).call(this))).$path="websites",t.$record=m,t}return u(e,n["a"]),e}(),b=function(){function i(t){var e;return s(this,i),(e=l(this,c(i).call(this,t))).$entity=_,e}return u(i,n["b"]),i}(),_=function(){function e(){var t;return s(this,e),(t=l(this,c(e).call(this))).$record=b,t}return u(e,n["a"]),e}(),y=function(){function i(t){var e;return s(this,i),(e=l(this,c(i).call(this,t))).$entity=k,e}return u(i,n["b"]),i}(),k=function(){function e(){var t;return s(this,e),(t=l(this,c(e).call(this))).$record=y,t}return u(e,n["a"]),e}(),$=function(){function i(t){var e;return s(this,i),(e=l(this,c(i).call(this,t))).$entity=w,e}return u(i,n["b"]),o(i,[{key:"$definition",value:function(){return{data:function(){return{baz:null}},relations:["services","dependencies","websites","networkInterfaces","firewallSettings"],methods:{bar:function(){}},getters:{foo:function(){}},setters:{sth:function(){}}}}},{key:"getServicesRelation",value:function(){return this.$autoFetch("services",p)}},{key:"getDependenciesRelation",value:function(){return this.$autoFetch("dependencies",v)}},{key:"getWebsitesRelation",value:function(){return this.$autoFetch("websites",g)}},{key:"getNetworkInterfacesRelation",value:function(){return this.$autoFetch(["network-interfaces","networkInterfaces"],_)}},{key:"getFirewallSettingsRelation",value:function(){return this.$autoFetch(["firewall-settings","firewallSettings"],k)}}]),i}(),w=function(){function e(){var t;return s(this,e),(t=l(this,c(e).call(this))).$path="servers",t.$record=$,t}return u(e,n["a"]),e}()},function(t,e,i){"use strict";function n(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["fade in alert","alert-"+t.style,t.dismissable?"alert-dismissable":""],attrs:{role:"alert"}},[t.dismissable?i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e(),t._v(" "+t._s(t.text)+" ")])}n._withStripped=!0;var r={name:"pckg-bootstrap-alert",props:{style:{type:String,default:"success"},text:{type:String,default:""},dismissable:{type:Boolean,default:!0}},data:function(){return{}},methods:{}},s=i(0),a=Object(s.a)(r,n,[],!1,null,null,null);a.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-bootstrap-alert.vue";e.a=a.exports},function(t,e,i){"use strict";function n(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",class:t.visible?"in display-block":"",attrs:{tabindex:"-1",role:"dialog",id:t.id,"data-backdrop":t.closable?"true":"static","data-keyboard":t.closable?"true":"false"}},[i("div",{staticClass:"modal-dialog",class:[t.size?"modal-"+t.size:""]},[i("div",{staticClass:"modal-content"},[t.$slots.header||t.$slots.headerOut?i("div",{staticClass:"modal-header"},[t.closable?i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.closeModal}},[i("i",{staticClass:"far fa-times",attrs:{"aria-hidden":"true"}})]):t._e(),t.$slots.header?i("h4",{staticClass:"modal-title"},[t._t("header")],2):t._e(),t.$slots.headerOut?t._t("headerOut"):t._e()],2):t._e(),t.$slots.body?i("div",{staticClass:"modal-body"},[t._t("body")],2):t._e(),t.$slots.footer?i("div",{staticClass:"modal-footer"},[!t.$slots.footer&&t.dismissable?i("button",{staticClass:"btn btn-default",class:t.$slots.footer?"pull-left":"",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.closeModal}},[t._v("Close ")]):t._e(),t._t("footer")],2):t._e()])])])}n._withStripped=!0;var r={name:"pckg-bootstrap-modal",props:{dismissable:{type:Boolean,default:!0},id:null,visible:{default:!1},size:null,closable:{type:Boolean,default:!0}},data:function(){return{_modal:null}},watch:{visible:function(){this.$nextTick(function(){this.handleModal()}.bind(this))}},methods:{handleModal:function(){this.$nextTick(function(){$(this.$el).modal(this.visible?"show":"hide"),$(window).resize()}.bind(this))},closeModal:function(){this.$emit("close")},closedModal:function(){this.$emit("closed")},modalOpened:function(){$(window).resize()},modalOpening:function(){$(window).resize()}},mounted:function(){$(this.$el).on("hide.bs.modal",function(){this.closeModal()}.bind(this)),$(this.$el).on("hidden.bs.modal",function(){this.closedModal()}.bind(this)),$(this.$el).on("shown.bs.modal",this.modalOpened),$(this.$el).on("show.bs.modal",this.modalOpening),this.visible&&this.$nextTick(function(){setTimeout(function(){this.handleModal()}.bind(this),100)}.bind(this))}},s=i(0),a=Object(s.a)(r,n,[],!1,null,null,null);a.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-bootstrap-modal.vue";e.a=a.exports},function(t,e,i){"use strict";function n(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"c-dispatcher-notifications"},i._l(i.positions,function(t){return n("div",{staticClass:"pckg-dispatcher-notifications-wrapper",class:"--position-"+(t||"default")},i._l(i.position(t),function(e){return n("div",{staticClass:"alert alert-dismissible animated",class:i.alertClass(e),attrs:{role:"alert"}},[e.icon?n("div",{staticClass:"col"},[n("i",{staticClass:"fal fa-fw",class:e.icon})]):i._e(),n("div",{staticClass:"col",domProps:{innerHTML:i._s(e.content)}}),n("div",{staticClass:"col"},[e.onConfirm?n("a",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){return t.preventDefault(),i.confirmNotification(e)}}},[i._v("GOT IT")])]):n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){return i.removeNotification(e)}}},[i._v("×")])])])])}),0)}),0)}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n._withStripped=!0;var s={name:"pckg-dispatcher-notifications",mixins:[pckgTimeout],data:function(){return{notifications:[],positions:[null,"top-center"]}},methods:{removeNotification:function(t){utils.splice(this.notifications,t)},confirmNotification:function(t){t.onConfirm&&t.onConfirm(),this.removeNotification(t)},alertClass:function(t){var e="alert-"+t.type,i="danger"===t.type?"shake":"fadeInUp";return"".concat(e," ").concat(i)},iconClass:function(t){return"danger"==t.type?"fa-exclamation":"success"==t.type?"fa-check":"fa-info"},createNotification:function(t,e){return"object"===r(t)?(t.type=t.type||e,t):{content:t,type:e,icon:this.iconClass({type:e})}},timeoutClose:function(t){t.onConfirm||this.timeout("autoclose",function(){this.removeNotification(t)}.bind(this),t.timeout||5e3,t)},processMsg:function(t,e){var i=this.createNotification(t,e);if(!i.condition||i.condition()){if(i.unique)if(0<this.notifications.filter(function(t){return t.message===i.message}).length)return;this.notifications.push(i),this.timeoutClose(i,e)}},position:function(e){return this.notifications.filter(function(t){return e?t.position===e:!t.position})}},created:function(){$dispatcher.$on("notification:success",function(t){this.processMsg(t,"success")}.bind(this)),$dispatcher.$on("notification:error",function(t){this.processMsg(t,"danger")}.bind(this)),$dispatcher.$on("notification:info",function(t){this.processMsg(t,"info")}.bind(this)),$dispatcher.$on("notification:default",function(t){this.processMsg(t,"default")}.bind(this))}},a=i(0),o=Object(a.a)(s,n,[],!1,null,null,null);o.options.__file="vendor/pckg/generic/src/Pckg/Generic/View/dispatcherNotifications.vue";e.a=o.exports},,,,,,,,function(t,e,i){"use strict";i.r(e);function n(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vue-component-gmaps",attrs:{id:this.id}})}n._withStripped=!0;var r={props:{center:{type:String},locations:{type:Array,default:function(){return[]}},selector:{type:String,default:""},id:{type:String,default:""},theme:{type:String,default:"default"},afterDrag:{type:Function,default:function(){console.log("default after drag, no action")}},afterDraw:{type:Function,default:function(){console.log("default after draw, no action")}},afterZoom:{type:Function,default:function(){console.log("default after zoom, no action")}},zoom:{type:Number,default:15},search:{},infowindow:!1},data:function(){return{pins:[],_gmap:null,_searchTimeout:null}},watch:{locations:function(t){this.singletonMap(),this.locations=t,this.removeMarkers(),this.markLocations()},search:function(){this.initSearch()}},methods:{setCenter:function(t){this.center=t},singletonMap:function(){this._gmap||this.initMap()},prepareMapOptions:function(t){var e=settings.vue.gmaps.themes.getOptions(t);return e.center&&(e.center=new google.maps.LatLng(e.center[0],e.center[1])),e},initMap:function(){this._gmap=new google.maps.Map($(this.selector)[0],this.prepareMapOptions(this.theme));var t=google.maps.event.addListener(this._gmap,"idle",function(){google.maps.event.removeListener(t),this._gmap.setOptions({minZoom:5}),this.removeMarkers(),this.markLocations(),0<this.locations.length?this.fitBounds():this.fitForNoMarkers(),google.maps.event.addListener(this._gmap,"dragend",this.afterDrag),google.maps.event.addListener(this._gmap,"zoom_changed",this.afterZoom)}.bind(this))},fitForNoMarkers:function(){console.log("fitting for no markers",this.center);var t=this.center.split(";"),e=new google.maps.LatLng(t[0],t[1]);this._gmap.setCenter(e),this._gmap.setZoom(7),google.maps.event.trigger(this._gmap,"resize")},fitForOneMarker:function(){console.log("fitting for one marker",this.locations[0].geo);var t=this.locations[0].geo,e=new google.maps.LatLng(t[0],t[1]);this._gmap.setCenter(e),this._gmap.setZoom(13);var i=new google.maps.LatLngBounds;i.extend(e),this._gmap.fitBounds(i),google.maps.event.trigger(this._gmap,"resize")},fitBounds:function(){if(0!=this.pins.length)if(1!=this.pins.length){var i=new google.maps.LatLngBounds;$.each(this.pins,function(t,e){i.extend(e.position)}),this._gmap.fitBounds(i)}else this.fitForOneMarker();else this.fitForNoMarkers()},fitToDefault:function(){console.log("fit to default");var t=new google.maps.LatLngBounds,e=this.center.split(";");console.log(e),t.extend(new google.maps.LatLng(e[0],e[1])),console.log("fitting to bounds",t),this._gmap.fitBounds(t),google.maps.event.trigger(this._gmap,"resize")},addPublicMarker:function(t,e){var i=new google.maps.Marker({position:t,map:this._gmap,draggable:!0,loc:e});return this.pins.push(i),google.maps.event.addListener(i,"dragend",function(t){var e=t.latLng.lat()+";"+t.latLng.lng();this.$emit("change",e),this.$emit("input",e)}.bind(this)),this.infowindow&&google.maps.event.addListener(i,"click",function(){infowindow.setContent(e.id),infowindow.setPosition(i.position),infowindow.open(this._gmap)}.bind(this,i)),i},removeMarker:function(t){t.setMap(null)},removeMarkers:function(){for(var t in this.pins)this.removeMarker(this.pins[t]);this.pins=[]},getLatLngFromCmsMap:function(t){return new google.maps.LatLng(parseFloat(t[0]),parseFloat(t[1]))},markLocations:function(){for(var t in this.locations){var e=this.locations[t],i=this.getLatLngFromCmsMap(e.geo);this.addPublicMarker(i,e)}this.afterDraw()},initSearch:function(){this.singletonMap(),this.fetchsearch()},fetchsearch:function(){this.search?(clearTimeout(this._searchTimeout),this._searchTimeout=setTimeout(function(){http.get("https://maps.googleapis.com/maps/api/geocode/json?"+(Pckg&&Pckg.config&&Pckg.config.apis&&Pckg.config.apis.googleConsole?"key="+Pckg.config.apis.googleConsole+"&":"")+"address="+this.search).success(function(t){var i;if(console.log("results",t),void 0!==t.results&&0<t.results.length)if($.each(t.results,function(t,e){if(e.geometry.location)return i=e.geometry.location,!1}),i){var e=[i.lat,i.lng];this.locations=[{geo:e}],this.fitBounds()}else this.fitToDefault()}.bind(this))}.bind(this),333)):(this.$parent.updateLocation(null,null,null),this.fitToDefault())},getLocation:function(){return 0==this.locations.length?null:this.locations[0]}},ready:function(){void 0!==this.search?this.initSearch():this.initMap()}},s=i(0),a=Object(s.a)(r,n,[],!1,null,null,null);a.options.__file="vendor/pckg/helpers-js/vue/gmaps.vue";function o(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"pckg-dynamic-paginator"},[i.total>i.perPage&&i.perPage>i.limits[0]?n("div",{staticClass:"pull-left"},[n("div",{staticClass:"btn-group btn-group-md dropup",staticStyle:{display:"table",margin:"0 auto"}},[n("div",{staticClass:"btn btn-default"},[n("a",{attrs:{title:"view",href:"#"}},[i._v(" Show: "+i._s(i.perPage)+" items ")])]),i._m(0),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[i._l(i.limits,function(e){return n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),i.setPerPage(e)}}},[i._v(i._s(e)+" per page")])])}),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),i.setPerPage("all")}}},[i._v("all")])])],2)])]):i._e(),n("div",["all"!=i.perPage&&i.total>i.perPage?n("nav",{staticClass:"text-center"},[n("ul",{staticClass:"pagination pagination-sm"},[n("li",[n("a",{class:{disabled:1==i.page},attrs:{href:"#","aria-label":"Previous"},on:{click:function(t){return t.preventDefault(),i.prev(t)}}},[n("i",{staticClass:"fal fa-chevron-left"})])]),i._l(i.pages,function(e,t){return n("li",{key:t,class:{active:e==i.page}},[n("a",{class:{disabled:"..."==i.page},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),i.navigate(e)}}},[i._v(i._s(e))])])}),n("li",[n("a",{class:{disabled:i.page==Math.ceil(i.total/i.perPage)},attrs:{href:"#","aria-label":"Next"},on:{click:function(t){return t.preventDefault(),i.next(t)}}},[n("i",{staticClass:"fal fa-chevron-right"})])])],2)]):i._e()]),n("div",{staticClass:"clearfix"})])}var l=a.exports;o._withStripped=!0;var c={props:{initialPerPage:0,initialPage:0,total:0,url:null,resetpaginatorurl:null},data:function(){return{margin:5,limits:[25,50,100,250,500,1e3,5e3],page:this.initialPage,perPage:this.initialPerPage}},computed:{pages:function(){var t=[1],e=Math.ceil(this.total/this.perPage);this.page>this.margin&&t.push("...");for(var i=this.page-this.margin;i<this.page+this.margin;i++)i<2||e<i||t.push(i);return-1==t.indexOf(e)&&(-1==t.indexOf(e-1)&&t.push("..."),t.push(e)),t}},methods:{prev:function(){this.navigate(this.page-1)},next:function(){this.navigate(this.page+1)},navigate:function(t){t<1||t>Math.ceil(this.total/this.perPage)||(this.page=t,this.resetpaginatorurl({page:t}))},setPerPage:function(t){this.perPage=t,this.resetpaginatorurl({perPage:t})}}},u=Object(s.a)(c,o,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"caret"}),e("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])}],!1,null,null,null);u.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-dynamic-paginator.vue";function d(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a",{staticClass:"text-center",attrs:{href:"#",title:e.formattedValue},on:{click:function(t){return t.preventDefault(),e.toggle(t)}}},[i("i",{class:"fa-"+e.iconClass})])])}var f=u.exports;d._withStripped=!0;var p={data:function(){return{}},props:{field:null,record:null,value:null,min:null,max:null,table:null,url:null},methods:{toggle:function(){var t=null;t="2100-01-01 00:00:00"==this.min||null==this.min?this.value<=this.max?(this.value=this.min,0):(this.value=this.max,1):this.value<=this.min?(this.value=this.max,1):(this.value=this.min,0),http.getJSON(utils.url(this.url,{record:this.record,field:this.field,state:t,table:this.table.id}),function(t){}.bind(this))}},computed:{iconClass:function(){return"2100-01-01 00:00:00"==this.min?this.value>this.max?"square far clr-error":"square fas clr-success":null==this.min?this.value>this.max||this.value==this.min?"square far clr-error":"square fas clr-success":this.value<=this.min?"square far clr-error":"square fas clr-success"},brValue:function(){return this.noBrValue.split("").reverse().join("").replace(" ","*").split("").reverse().join("").replace("*","<br />")},noBrValue:function(){return this.value},formattedValue:function(){return locale.datetime(this.value)}}},h=Object(s.a)(p,d,[],!1,null,null,null);h.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-datetime.vue";function v(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"number",step:"1"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})}var m=h.exports;v._withStripped=!0;var g={data:function(){return{_changeTimeout:null}},props:{field:null,record:null,value:null,table:null,url:null},watch:{value:function(){clearTimeout(this._changeTimeout),this._changeTimeout=setTimeout(function(){this.saveData()}.bind(this),1e3)}},methods:{saveData:function(){http.getJSON(utils.url(this.url,{record:this.record,field:this.field,order:this.value,table:this.table.id}),function(t){}.bind(this))}}},b=Object(s.a)(g,v,[],!1,null,null,null);b.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-order.vue";function _(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"pckg-tabelize-field-boolean",class:e.onClass,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggle(t)}}},[i("i",{staticClass:"fa",class:e.iconClass})])}var y=b.exports;_._withStripped=!0;var k={data:function(){return{}},props:{field:null,record:null,value:null,table:null,url:null},methods:{toggle:function(){this.value=0<this.value?0:1,http.getJSON(utils.url(this.url,{table:this.table.id,record:this.record,field:this.field,state:0<this.value?1:0}),function(t){}.bind(this))}},computed:{onClass:function(){return 0<this.value?"on":"off"},iconClass:function(){return"fa-toggle-"+this.onClass}}},w=Object(s.a)(k,_,[],!1,null,null,null);w.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-boolean.vue";function C(){var t=this.$createElement;return(this._self._c||t)("div",{domProps:{innerHTML:this._s(this.strippedContent)}})}var S=w.exports;C._withStripped=!0;var O={data:function(){return{}},props:{value:null},computed:{strippedContent:function(){var t=document.createElement("div");return t.innerHTML=this.value,utils.nl2br((t.textContent||t.innerText||"").substr(0,200))}}},P=Object(s.a)(O,C,[],!1,null,null,null);P.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-tabelize-field-editor.vue";function x(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pckg-htmlbuilder-select btn-group"},[i("a",{staticClass:"btn btn-default btn-sm",attrs:{href:"button",href:e.realViewUrl,disabled:!e.value,target:"_blank",title:"View"}},[i("i",{staticClass:"fa-fw fal fa-search",attrs:{"aria-hidden":"true"}})]),i("a",{staticClass:"btn btn-default btn-sm",attrs:{href:"button",href:e.url,target:"_blank",title:"Open list"}},[i("i",{staticClass:"fa-fw fal fa-list-ul",attrs:{"aria-hidden":"true"}})]),i("a",{staticClass:"btn btn-default btn-sm",attrs:{href:"#",title:"Refresh dropdown"},on:{click:function(t){return t.preventDefault(),e.refreshList(t)}}},[i("i",{staticClass:"fa-fw fal fa-sync-alt",attrs:{"aria-hidden":"true"}})])])}var M=P.exports;function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}x._withStripped=!0;var q={mixins:[pckgTranslations],props:{value:null,url:null,viewUrl:null,refreshUrl:null,initialOptions:{default:function(){return[]}}},data:function(){return{options:this.initialOptions,v:null}},methods:{refreshList:function(){http.getJSON(this.refreshUrl,function(t){var n=$(this.$el).next().find("select"),e=n.val();n.html(""),$.each(t.records,function(t,e){if("object"==j(e)||"array"==typeof e){var i='<optgroup label="'+t+'">';$.each(e,function(t,e){i+='<option value="'+(0===t?"":t)+'">'+e+"</option>"}),i+="</optgroup>",n.append(i)}else n.append('<option value="'+(0===t?"":t)+'">'+e+"</option>")}),n.selectpicker("refresh"),n.val(e).change()}.bind(this))}},computed:{realViewUrl:function(){return utils.url(this.viewUrl,{record:this.value})}}},F=Object(s.a)(q,x,[],!1,null,null,null);F.options.__file="vendor/pckg/generic/src/Pckg/Maestro/public/vue/pckg-htmlbuilder-select.vue";function T(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"btn-group btn-group-sm pull-right"},[i._m(0),n("ul",{staticClass:"dropdown-menu dropdown-menu-right"},i._l(i.actions.record,function(e){return e.recordHref&&i.record[e.recordHref]||e.event?n("li",[e.recordHref&&i.record[e.recordHref]?n("a",{attrs:{href:i.record[e.recordHref]}},[n("i",{staticClass:"fa",class:"fa-"+e.icon}),i._v(" "+i._s(e.title)+" ")]):e.event?n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),i.recordAction(i.record,e.event)}}},[n("i",{staticClass:"fa",class:"fa-"+e.icon}),i._v(" "+i._s(e.title)+" ")]):i._e()]):i._e()}),0)])}var N=F.exports;T._withStripped=!0;var E={name:"pckg-maestro-actions",template:"#pckg-maestro-actions",props:{actions:{},record:{type:Object,required:!0},recordactionhandler:{},identifier:{default:"",type:String}},methods:{recordAction:function(t,e){this.$parent.localBus.$emit("record:"+e,t,t.id,this.identifier)}},created:function(){Vue.nextTick(function(){$(this.$el).find(".dropdown-toggle").each(function(){$(this).on("mouseenter",function(){$(this).click(),$(this).parent().on("mouseleave",function(){$("body").trigger("click")})})})}.bind(this))}},L=Object(s.a)(E,T,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"caret"}),this._v(" "),e("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])}],!1,null,null,null);L.options.__file="vendor/pckg/generic/src/Pckg/Maestro/View/_pckg_maestro_actions.vue";function R(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{on:{dblclick:function(t){return t.preventDefault(),s.toggleEditable(t)}}},["boolean"==s.type?[s.hasPrivilegeToEdit?s.editable?[e("input",{directives:[{name:"model",rawName:"v-model",value:s.model,expression:"model"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.model)?-1<s._i(s.model,null):s.model},on:{change:function(t){var e=s.model,i=t.target,n=!!i.checked;if(Array.isArray(e)){var r=s._i(e,null);i.checked?r<0&&(s.model=e.concat([null])):-1<r&&(s.model=e.slice(0,r).concat(e.slice(r+1)))}else s.model=n}}})]:[e("pckg-tabelize-field-boolean",{attrs:{field:s.fieldId,record:s.record.id,value:s.value,table:s.table,url:s.toggleFieldUrl}})]:[e("i",{staticClass:"fal fa-fw",class:s.value?"fa-check clr-success":"fa-times clr-error"})]]:"order"==s.type?[s.hasPrivilegeToEdit?e("pckg-tabelize-field-order",{key:s.record.id,attrs:{field:s.fieldId,record:s.record.id,value:s.value,table:s.table,url:s.orderFieldUrl}}):[s._v(s._s(s.value))]]:"datetime"==s.type&&s.isTogglable?[s.editable?[e("input",{directives:[{name:"model",rawName:"v-model",value:s.model,expression:"model"}],attrs:{type:"date"},domProps:{value:s.model},on:{input:function(t){t.target.composing||(s.model=t.target.value)}}})]:[s.hasPrivilegeToEdit?e("pckg-tabelize-field-datetime",{attrs:{field:s.fieldId,record:s.record.id,value:s.value,table:s.table,min:s.minTogglable,max:s.maxTogglable,url:s.toggleFieldUrl}}):[s._v(s._s(s._f("datetime")(s.value)))]]]:"editor"==s.type?[s.editable?[e("textarea",{domProps:{innerHTML:s._s(s.model)}},[s._v(s._s(s.model))])]:[e("pckg-tabelize-field-editor",{attrs:{value:s.value}})]]:"select"==s.type?[s.editable?s._e():[e("pckg-maestro-field-indicator",{attrs:{field:s.myField,record:s.record,"db-field":s.dbField}}),e("span",{domProps:{innerHTML:s._s(s.richValue)}})]]:"php"==s.type?[s.editable?s._e():[e("span",{domProps:{innerHTML:s._s(s.value)}})]]:"picture"==s.type&&s.value&&0<=Object.keys(s.dbField.options).indexOf("dir")?[s.editable?s._e():[e("a",{attrs:{href:"/storage/uploads/"+s.dbField.options.dir+"/"+s.value},on:{click:function(t){return s.openPopup(t,"/storage/uploads/"+s.dbField.options.dir+"/"+s.value)}}},[e("img",{staticClass:"img-table-preview",attrs:{src:s.cdn(s.imageCache("/storage/uploads/"+s.dbField.options.dir+"/"+s.value,"c","64x48")),alt:s.value,title:s.value}})])]]:[s.editable?[e("input",{directives:[{name:"model",rawName:"v-model",value:s.model,expression:"model"}],attrs:{type:"text"},domProps:{value:s.model},on:{input:function(t){t.target.composing||(s.model=t.target.value)}}})]:["id"==s.key?[e("a",{staticClass:"nobr",attrs:{href:s.record.viewUrl,title:"Open record"},domProps:{innerHTML:s._s(s.value)}})]:"title"==s.key?[e("a",{attrs:{href:s.record.viewUrl,title:"Open record"},domProps:{innerHTML:s._s(s.value)}})]:[e("span",{staticClass:"raw"},[s._v(s._s(s.value))])]]]],2),s.editable?e("div",[e("button",{staticClass:"btn btn-xs btn-danger",attrs:{href:"#",title:"Cancel changes"},on:{click:function(t){return t.preventDefault(),s.cancelChanges(t)}}},[e("i",{staticClass:"fal fa-minus",attrs:{"aria-hidden":"true"}})]),e("button",{staticClass:"btn btn-xs btn-success",attrs:{href:"#",title:"Save changes"},on:{click:function(t){return t.preventDefault(),s.saveChanges(t)}}},[e("i",{staticClass:"fal fa-check",attrs:{"aria-hidden":"true"}})])]):s._e()])}var V=L.exports;R._withStripped=!0;var D={mixins:[pckgCdn],name:"pckg-maestro-field",props:{field:{type:Object,required:!0},record:{type:Object,required:!0},table:{type:Object,required:!0},relations:{},parentFields:{}},watch:{field:function(t){this.myField=t},relations:function(t){this.myRelations=t},parentFields:function(t){this.myFields=t}},data:function(){return{myField:this.field,myRelations:this.relations,myFields:this.parentFields,editable:!1,toggleFieldUrl:Pckg.router.urls["dynamic.records.field.toggle"],orderFieldUrl:Pckg.router.urls["dynamic.records.field.order"],model:null}},methods:{openPopup:function(t,e){if(!t.ctrlKey)return t.preventDefault(),$.magnificPopup.open({items:{src:e},type:"image"}),!1},toggleEditable:function(){},saveChanges:function(){this.editable=!1},cancelChanges:function(){this.editable=!1},findDottedKey:function(t,e){if("string"==typeof t)return e.push(t),e;var i=Object.keys(t)[0];return e.push(i),this.findDottedKey(t[i].field,e)}},computed:{fieldId:function(){var i=null;return $.each(this.myFields,function(t,e){if(e.field==this.myField.field)return i=e.id,!1}.bind(this)),i},dbField:function(){return"string"!=typeof this.myField.field?null:($.each(this.myFields,function(t,e){if(e.field==this.myField.field)return i=e,!1}.bind(this)),i);var i},isTogglable:function(){var t=this.dbField;return!!t&&t.isTogglable},minTogglable:function(){var t=this.dbField;return!!t&&t.minTogglable},maxTogglable:function(){var t=this.dbField;return!!t&&t.maxTogglable},type:function(){return"string"!=typeof this.myField.field?"relation":($.each(this.myFields,function(t,e){if(e.field==this.myField.field)return i=e.fieldType.slug,!1}.bind(this)),i);var i},key:function(){if("string"==typeof this.myField.field)return this.myField.field},value:function(){if("string"==typeof this.myField.field)return this.record[this.key];var t=this.findDottedKey(this.myField.field,[]).join(".");return t&&this.record[t]?this.record[t]:void 0},richValue:function(){if("string"==typeof this.myField.field)return this.record["*"+this.key]},hasPrivilegeToEdit:function(){return this.table.privileges.write||!1}},mounted:function(){this.$nextTick(function(){$(document).on("keyup",function(t){27==t.keyCode&&(this.editable=!1)}.bind(this))}.bind(this))}},A=Object(s.a)(D,R,[],!1,null,null,null);A.options.__file="vendor/pckg/generic/src/Pckg/Maestro/View/_pckg_maestro_field.vue";function z(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"impero-servers-one-component"},[n("h1",[i._v(i._s(i.server.name)+" / "+i._s(i.server.ip)+" / "+i._s(i.server.status))]),n("h6",[i._v("#web + #db + #cron + #mail")]),i._l(i.server.tags,function(t){return n("span",[i._v("#${ tag.tag } ")])}),n("div",[i._m(0),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"services"}},[n("button",{staticClass:"btn btn-success btn-xs",attrs:{title:"Refresh services"},on:{click:function(t){return i.server.refreshServicesStatuses()}}},[n("i",{staticClass:"fa fa-refresh"})]),n("button",{staticClass:"btn btn-success btn-xs",attrs:{title:"Install services"},on:{click:function(t){return t.preventDefault(),i.openInstallServicesPopup(t)}}},[n("i",{staticClass:"fa fa-plus"})]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",[n("pckg-bootstrap-modal",{attrs:{visible:i.installServicesModal},on:{close:function(t){i.installServicesModal=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("h4",[i._v("Install services")])]),n("div",{attrs:{slot:"body"},slot:"body"},[n("p",[i._v("Select services you wish to install.")]),n("ul",i._l(i.allServices,function(t){return t.isInstalledOnServer(i.server)?i._e():n("li",[i._v(" "+i._s(t.name)+" "),n("a",{staticClass:"btn btn-xs",attrs:{href:t.getInstallOnServerUrl(i.server)}},[n("i",{staticClass:"fa fa-plus"})])])}),0)])])],1),n("h3",[i._v("Services")]),n("table",{staticClass:"table table-condensed table-striped"},[i._m(1),n("tbody",i._l(i.server.services,function(e){return n("tr",[n("td",[i._v(i._s(e.name))]),n("td",[i._v(i._s(e.version))]),n("td",[[n("button",{staticClass:"btn btn-warning btn-xs",on:{click:function(t){i.configureModal=e.service}}},[n("i",{staticClass:"fa fa-cogs"})]),n("pckg-bootstrap-modal",{attrs:{visible:i.configureModal==e.service},on:{close:function(t){i.configureModal==e.service&&(i.configureModal=null)}}},[i.configureModal==e.service?n("div",{attrs:{slot:"body"},slot:"body"},[n("impero-service-configure-"+e.service,{tag:"component",attrs:{server:i.server,service:e}})],1):i._e()])],i._v(" "+i._s(e.status)+" ")],2)])}),0)])]),n("div",{staticClass:"col-md-6"},[n("h3",[i._v("Dependencies")]),n("table",{staticClass:"table table-condensed table-striped"},[i._m(2),n("tbody",i._l(i.server.dependencies,function(t){return n("tr",[n("td",[i._v(i._s(t.name))]),n("td",[i._v(i._s(t.version))]),n("td",[i._v(" "+i._s(t.status_id)+" ")])])}),0)])])])]),n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"applications"}},[n("div",{staticClass:"row"},[n("impero-servers-one-applications",{attrs:{server:i.server}})],1)]),n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"deployments"}},[n("table",{staticClass:"table table-condensed table-striped"},[i._m(3),n("tbody",i._l(i.server.deployments,function(t){return n("tr",[n("td",[i._v("${ deployment.application.name }")]),n("td",[i._v("${ deployment.started_at | datetime }")]),n("td",[i._v("${ deployment.ended_at | datetime }")]),n("td",[i._v("${ deployment.version }")]),n("td",[i._v("${ deployment.status }")])])}),0)])]),n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"jobs"}},[n("table",{staticClass:"table table-condensed table-striped"},[i._m(4),n("tbody",i._l(i.server.jobs,function(t){return n("tr",[n("td",[i._v("${ job.user }")]),n("td",[i._v("${ job.name }")]),n("td",[i._v("${ job.command }")]),n("td",[i._v("${ job.frequency }")]),n("td",[i._v("${ job.status }")])])}),0)])]),n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"logs"}},[n("table",{staticClass:"table table-condensed table-striped"},[i._m(5),n("tbody",i._l(i.server.logs,function(t){return n("tr",[n("td",[i._v("${ log.name }")]),n("td",[i._v("${ log.created_at | datetime }")]),n("td",[i._v("${ log.description }")])])}),0)])]),n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"notifications"}},[n("table",{staticClass:"table table-condensed table-striped"},[i._m(6),n("tbody",i._l(i.server.logs,function(t){return n("tr",[n("td",[i._v("${ log.name }")]),n("td",[i._v("${ log.created_at | datetime }")])])}),0)])]),n("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"network"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("h3",[i._v("Network interfaces")]),n("table",{staticClass:"table table-condensed table-striped"},[i._m(7),n("tbody",i._l(i.server.networkInterfaces,function(t){return n("tr",[n("td",[i._v(i._s(t.name))]),n("td",[i._v(i._s(t.ipv4)),n("br"),i._v(i._s(t.ipv6))]),n("td",[i._v(i._s(t.downloaded)+" / "+i._s(t.uploaded))]),n("td",[i._v(i._s(t.mask))])])}),0)])]),n("div",{staticClass:"col-md-6"},[n("h3",[i._v("Firewall settings")]),n("table",{staticClass:"table table-condensed table-striped"},[i._m(8),n("tbody",i._l(i.server.firewallSettings,function(t){return n("tr",[n("td",[i._v(i._s(t.rule))]),n("td",[i._v(i._s(t.from))]),n("td",[i._v(i._s(t.port))])])}),0)])])])]),i._m(9)])])],2)}var I=A.exports,U=i(3),H=i(4),J=i(5);z._withStripped=!0;var B=i(2),Q={name:"impero-servers-one",mixins:[pckgDelimiters],props:{id:Number},data:function(){return{server:new B.a,installServicesModal:!1,configureModal:null}},methods:{hasComponent:function(t){return this.$root.$options.components[t]||!1},fetchServer:function(){(new B.b).one(this.id).then(function(t){console.log("got server",t,JSON.parse(t.toJSON())),this.server=t,console.log("fetched",this,this.$root,$vue)}.bind(this))},openInstallServicesPopup:function(){this.installServicesModal=!0}},computed:{allServices:function(){return $store.getters.services},services:function(){return this.server.services?this.server.services:[]},installedServices:function(){return this.services.filter(function(t){return"yes"==t.installed})},availableServices:function(){return this.services.filter(function(t){return"no"==t.installed})}},created:function(){this.fetchServer(),$store.dispatch("prepareServices")}},G=Object(s.a)(Q,z,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#services","aria-controls":"services",role:"tab","data-toggle":"tab"}},[t._v("Services and dependencies")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#applications","aria-controls":"applications",role:"tab","data-toggle":"tab"}},[t._v("Applications")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#deployments","aria-controls":"deployments",role:"tab","data-toggle":"tab"}},[t._v("Deployments")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab"}},[t._v("Jobs")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#logs","aria-controls":"logs",role:"tab","data-toggle":"tab"}},[t._v("Logs")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#notifications","aria-controls":"logs",role:"tab","data-toggle":"tab"}},[t._v("Notifications")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#network","aria-controls":"network",role:"tab","data-toggle":"tab"}},[t._v("Network and firewall")])]),i("li",{attrs:{role:"presentation"}},[i("a",{attrs:{href:"#tasks","aria-controls":"tasks",role:"tab","data-toggle":"tab"}},[t._v("Tasks")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Service")]),i("th",[t._v("Version")]),i("th",[t._v("Status")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Dependency")]),i("th",[t._v("Version")]),i("th",[t._v("Status")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Application")]),i("th",[t._v("Started at")]),i("th",[t._v("Ended at")]),i("th",[t._v("Version")]),i("th",[t._v("Status")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("User")]),i("th",[t._v("Name")]),i("th",[t._v("Command")]),i("th",[t._v("Frequency")]),i("th",[t._v("Status")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Log")]),i("th",[t._v("Datetime")]),i("th",[t._v("Description")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Notification")]),e("th",[this._v("Datetime")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Interface")]),i("th",[t._v("IP")]),i("th",[t._v("Transfer (D/U)")]),i("th",[t._v("Mask")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Rule")]),i("th",[t._v("From")]),i("th",[t._v("Service / Port")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"tasks"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h3",[this._v("Tasks")])])])])}],!1,null,null,null);G.options.__file="app/impero/src/Impero/Servers/View/servers/one.vue";function W(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",[r("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),n.modal="addNewApplication"}}},[r("i",{staticClass:"fa fa-plus"},[n._v("Add new application")])]),r("pckg-bootstrap-modal",{attrs:{visible:"addNewApplication"==n.modal}},[r("div",{attrs:{slot:"body"},slot:"body"},[r("service-autoinstall"),r("hr"),r("div",{staticClass:"form-group"},[r("label",[n._v("Application")]),r("div",[n._v(" mailo.foobar.si ")])]),r("div",{staticClass:"form-group"},[r("label",[n._v("Service")]),r("div",[r("pckg-select",{attrs:{"initial-options":n.initialServices,"initial-multiple":!1}})],1)]),r("div",{staticClass:"help"},[n._v("We would like to create new RabbitMq services on existing infrastructure.")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Install RabbitMq on one.gonparty.eu")]),r("p",{staticClass:"clr-success"},[n._v("Service has been installed.")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Remove cron:newsletter service from one.gonparty.eu")]),r("p",{staticClass:"clr-success"},[n._v("Cron has been removed.")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Add sendmail:newsletter to one.gonparty.eu")]),r("p",{staticClass:"clr-success"},[n._v("Service has been started")]),r("p",[n._v("Select new or existing service you'd like to scale up")]),r("p",[n._v("SendMailNewsletter jobs requires additional module (php-imap) and sendmail service installed on server.")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Install php-imap PHP module on two.gonparty.eu")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Install sendmail on two.gonparty.eu")]),r("p",{staticClass:"clr-success"},[n._v("Module successfully established.")]),r("p",[n._v("Web service on two.gonparty.eu requires communication with master database on zero.gonparty.eu:3306 and slave on one.gonparty.eu:3306.")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Connect two.gonparty.eu and zero.gonparty.eu via VPN ")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Connect two.gonparty.eu and one.gonparty.eu via VPN ")]),r("p",{staticClass:"clr-success"},[n._v("Network connection successfully established.")]),r("p",[n._v("SendMailNewsletter job requires connection with RabbitMQ master on zero.gonparty.eu:1111")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Open port 1111 on existing VPN connection")]),r("p",{staticClass:"clr-success"},[n._v("Port successfully opened.")]),r("p",[n._v("Web service requires storage to be mounted")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Mount remote FRA01-01 from zero.gonparty.eu to two.gonparty.eu via NFS ")]),r("p",{staticClass:"clr-success"},[n._v("Project checked out, configuration dumped.")]),r("p",[n._v("SendMailNewsletter requires web service to be checked out")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Checkout project")]),r("p",{staticClass:"clr-success"},[n._v("Project checked out, configuration dumped.")]),r("p",[n._v("SendMailNewsletter service can now be deployed to two.gonparty.eu")]),r("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[n._v("Deploy service")]),r("p",{staticClass:"clr-success"},[n._v("Service deployed.")])],1)]),r("table",{staticClass:"table table-condensed table-striped"},[n._m(0),r("tbody",n._l(n.server.websites,function(i){return r("tr",[r("td",[n._v(n._s(i.name))]),r("td",[n._v(n._s(i.name))]),r("td",[n._v(" "+n._s(i.url)),r("br"),n._l(i.urls,function(t,e){return r("span",[n._v(n._s(t)),e+1<i.urls.length?r("br"):n._e()])})],2),r("td",[n._v(n._s(i.https))]),r("td",[n._v(n._s(i.source))]),r("td",[n._v(n._s(i.version))]),r("td",[n._v(n._s(i.status))])])}),0)])],1)}var Z=G.exports,K={name:"derive-servers-one-applications",props:{server:{required:W._withStripped=!0,type:Object}},data:function(){return{modal:null,initialServices:{web:"Web",cron:"Cron",db:"Database (slave)",mail:"Sendmail"}}}},X=Object(s.a)(K,W,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Website")]),i("th",[t._v("Application")]),i("th",[t._v("Url")]),i("th",[t._v("Https")]),i("th",[t._v("Source")]),i("th",[t._v("Version")]),i("th",[t._v("Status")])])])}],!1,null,null,null);X.options.__file="app/impero/src/Impero/Servers/View/servers/one_applications.vue";function Y(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h4",[e._v("mailo.foobar.si")]),i("ul",e._l(e.application.services,function(t){return i("li",[e._v(" "+e._s(t.servers.length)+"x "+e._s(t.name)+": "),e._l(t.servers,function(t){return i("span",{staticClass:"label label-default",staticStyle:{"margin-right":".5rem"}},[e._v("["+e._s(t.name)+"]")])}),i("span",{staticClass:"label label-default"},[e._v("[+]")])],2)}),0),i("p",[e._v("Scaling "),i("b",[e._v(e._s(e.application.name))]),e._v("'s service "),i("b",[e._v(e._s(e.service.name))]),e._v(" to "),i("b",[e._v(e._s(e.server.name))])]),e.requirementsLoaded?e._e():i("pckg-loader",{attrs:{visible:"!requirementsLoaded"}}),i("b",[e._v("Requirements: "),0==e.requirements.length?i("span",{staticClass:"clr-success"},[e._v("ok")]):i("span",{staticClass:"clr-error"},[e._v("fix all issues")])]),i("service-autoinstall-requirements",{attrs:{service:e.service,server:e.server,application:e.application,requirements:e.requirements}}),i("hr"),i("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[e._v("Deploy service "+e._s(e.service.name)+" to server "+e._s(e.server.name)+" ")])],1)}var tt=X.exports;Y._withStripped=!0;var et={props:{final:!0,server:{default:function(){return{id:1,name:"two.gonparty.eu"}}},service:{default:function(){return{id:1,name:"sendmail:transactional"}}},application:{default:function(){return{id:1,name:"mailo.foobar.si",services:[{name:"Web",servers:[{name:"Zero"},{name:"One"}]},{name:"Cron",servers:[{name:"Zero:transactional"},{name:"One:newsletter"}]},{name:"Storage",servers:[{name:"FRA1-01"}]},{name:"Database",servers:[{name:"Zero:master"},{name:"One:slave"}]},{name:"RabbitMQ:newsletter",servers:[]},{name:"RabbitMQ:transactional",servers:[]},{name:"RabbitMQ:dedicated",servers:[]}]}}}},data:function(){return{requirementsLoaded:!0,requirements:[{name:"RabbitMQ (local)",type:"resource",requirements:[]},{name:"RabbitMQ (remote)",type:"resource",requirements:[{name:"Network connection",type:"network",settings:{from:"two.gonparty.eu",to:"zero.gonparty.eu",port:5123},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]}]},{name:"Web",type:"service",requirements:[{name:"Database",type:"resource",requirements:[{name:"mailo_mailo",type:"resource:database",requirements:[]},{name:"Network connection",type:"network",settings:{from:"two.gonparty.eu",to:"zero.gonparty.eu",port:3306},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]},{name:"Network connection",type:"network",settings:{from:"two.gonparty.eu",to:"one.gonparty.eu",port:3306},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]}]},{name:"Network connection",type:"network",settings:{from:"zero.gonparty.eu",to:"two.gonparty.eu",port:80},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]},{name:"Network connection",type:"network",settings:{from:"zero.gonparty.eu",to:"two.gonparty.eu",port:443},requirements:[{name:"VPN service",type:"service",requirements:[]},{name:"Firewall",type:"service",requirements:[]}]}]}]}},computed:{requirementsMet:function(){return this.final}}},it=Object(s.a)(et,Y,[],!1,null,null,null);it.options.__file="app/impero/src/Impero/Servers/View/servers/service_autoinstall.vue";function nt(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",e._l(e.requirements,function(t){return i("li",[e._v(" "+e._s(t.name)+" "),"service"==t.type?[0<t.requirements.length?i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("fix all issues")]):e._e(),t.installed?e._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("install locally")])]:"resource"==t.type?[0<t.requirements.length?i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("fix all issues")]):e._e(),t.installed?e._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("install locally")]),t.installed?e._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("install on remote")]),t.installed?e._e():i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("select remote")])]:"network"==t.type?[0<t.requirements.length?i("a",{staticClass:"clr-error",attrs:{href:"#"}},[e._v("fix all issues")]):e._e(),i("br"),e._v(" "+e._s(t.settings.from)+" -> "+e._s(t.settings.to)+":"+e._s(t.settings.port)+" ")]:e._e(),0<t.requirements.length?i("service-autoinstall-requirements",{attrs:{server:e.server,service:e.service,requirements:t.requirements}}):e._e()],2)}),0)}var rt=it.exports;nt._withStripped=!0;var st={name:"service-autoinstall-requirements",props:{server:{},service:{},application:{},requirements:{}}},at=Object(s.a)(st,nt,[],!1,null,null,null);at.options.__file="app/impero/src/Impero/Servers/View/servers/service_autoinstall_requirements.vue";var ot=at.exports,lt=(i(1),{state:{services:[]},getters:{services:function(t){return t.services}},mutations:{setServices:function(t,e){t.services=e}},actions:{prepareServices:function(){console.log("preparing services"),(new B.d).all().then(function(t){$store.commit("setServices",t)})}}});Pckg.vue.stores.impero=lt,Vue.component("vue-component-gmaps",l),Vue.component("pckg-dynamic-paginator",f),Vue.component("pckg-tabelize-field-datetime",m),Vue.component("pckg-tabelize-field-order",y),Vue.component("pckg-tabelize-field-boolean",S),Vue.component("pckg-tabelize-field-editor",M),Vue.component("pckg-htmlbuilder-select",N),window.pckgMaestroActionsComponent=Vue.component("pckg-maestro-actions",V),Vue.component("pckg-maestro-field",I),Vue.component("pckg-bootstrap-alert",U.a),Vue.component("pckg-bootstrap-modal",H.a),Vue.component("pckg-dispatcher-notifications",J.a),Vue.component("impero-servers-one",Z),Vue.component("impero-servers-one-applications",tt),Vue.component("service-autoinstall",rt),Vue.component("service-autoinstall-requirements",ot)}]);